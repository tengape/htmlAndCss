/**Released Version v3.0.8,BUILD 167,Time 1646286731113. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(A,g){"object"==typeof exports&&"object"==typeof module?module.exports=g():"function"==typeof define&&define.amd?define([],g):"object"==typeof exports?exports.fengmap=g():A.fengmap=g()}(this,function(){return C={},t.m=I=[function(A,g,I){"use strict";I.r(g);var u={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4};function t(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var C=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),A=A||{},this.A=null,this.g=A,this.I=null,this.C=null,void 0===this.g.backgroundImageSize&&(this.g.backgroundImageSize=50),void 0===this.g.pointerImageSize&&(this.g.pointerImageSize=50),this.e=Math.floor((this.g.backgroundImageSize-this.g.pointerImageSize)/2),this.h=Math.floor((this.g.backgroundImageSize-this.g.pointerImageSize)/2),this.g.backgroundImageURL||(this.g.backgroundImageURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA4KGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOC0wMy0wNVQxMTo0ODoyMCswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4LTAzLTA1VDExOjU3OjA1KzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMy0wNVQxMTo1NzowNSswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDphZDgzZDBiZi1jODAyLTQwOTMtYjQ4Mi02YTVkYTMxYmE2Njk8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YWQ4M2QwYmYtYzgwMi00MDkzLWI0ODItNmE1ZGEzMWJhNjY5PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YWQ4M2QwYmYtYzgwMi00MDkzLWI0ODItNmE1ZGEzMWJhNjY5PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmFkODNkMGJmLWM4MDItNDA5My1iNDgyLTZhNWRhMzFiYTY2OTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0wMy0wNVQxMTo0ODoyMCswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjY0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjY0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5neOjPAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYbSURBVHja5JvdbxxXGYefMx9nZrK7tmexlZ60KqCqatRWVIXAVcVtBf8ARUVUNFiWDWmill4UrlEuUFHahFptSKVCJfIXUK5Rr0hAKlKroBaBKuqTyK537d3Nzp6Z2cNFZqmxHGdtx8565yft1Z6Z3d8z7/mc9xVLS0vsRkqpodpprSeBbwNfAx4BjgMKiIFK0awDNIEl4BrwD+DvwJ+VUmvso8R+ANBaPwT8APiOEOKbUsqu53k9z/OM53nGdd3McZy+EKIPYK11+v2+k+e5l2WZLD6BMSay1l4B3gPeVUr9c2QBaK1d4Blg3nXdb4VhuB6GYUdKmezlDxpjwiRJKkmSTOR5/hdgEbislMpHAkBh/DTwahiGrSNHjjSDIOjuR7j2er3o5s2bU0mS1ICXgNf2CmJPALTWPwYuRlG0Vq1WVz3PSzkAZVnmt9vterfbnQRmlVK/PWgAjwILvu+fnJiYuCGl7HEPZIwJ1tfXj6Zpegl4Qyn10UEAWBBCXKhWq8vVarXJCKjdbk+12+0Za+1PlVJv7CeAs67rvhjHsfZ9v8cIKU3ToNFoqDzPX1VK/XzY65wd/MY5KeUL09PTn46aeQDf93vT09OfSilPa63P3W0A54MgeL5er3/mOE6fEZXjOP16vf5ZEATPa63P3y0A54IgeK5er2shhGXEJYSw9XpdB0Hw3DCRcCcAZ6WUs3EcX+eQKY7j61LKWa312d0CWCgGvKXD8OS3ioQ4jpdc131Ra72wUwCPCyEuxHGsR7nPDzMmxHGshRAXtNaP7QTAfK1WWx7F0X43s0OtVlsG5ocFsOD7/o8qlUqTMVGlUmn6vn9Saz17p4WQB5hRnev3ulBaWVn5MuBt3EBtjoDTURStj5v5QVeIomit2LluGQEeYGZmZv59ULu6g1aWZf7y8vJXAKmUyjZHwLNhGLbG1TyA53lpGIZt4NmtusD8OA182wyIjY0zwgDAo57nPbnX46vDICll4nnek4N1wQDAM2EYtiiJCq/f2wjg6SAIOmUBUHh9egBgSghxogzhv7EbCCFOaK2nHOApKWWXkqnw/JQDPOF5Xq9sAArPTzjAcc/zTAkBGOC4AzxcYgAPO8ADrutmZQNQeH7AASYO86HHXg5LgEkHqA3e0pZJheeqQ0llrRWAcYCWtdYpIQAHaDnAer/fLx2AwnPLAf6T57lXQgAucMMBPs6yTJYNQOH5Ywe4VmIA1xzggyzLghICCIAPHOB9Y0xUNgCF5/cdoGmtvWqMCUtkPrTWXlVKNQfT33u9Xq9SFgCF1z/BF0di73a73YmyACi8/n4jgE/yPL9ShrHAGBPleX5FKfXJRgAAi51OZ3LcARQeF/+3K9zw3eUkSWpZlvljPPX5RZbp5a0AZMDL7Xa7Pq4ACm8/G7wX3AwA4Fy3251M03TsFkZpmgZFau1r/3cwsqldDsytra0dHTcAhae5zcnVW22D30rT9FKn05kao9CfStP0klLqrc3f3e4cYLHVas2kaSrHIfTb7fYMsGUO8e0AfGitfaHRaBw7zIcl/X7faTQax6y1c7fLJN/O3IU8z39d3EAcNvPWWtFoNI4VydMXb9fuTk/3FWPMxWazed9hA9BsNu8zxlxUSr2yXbthwvtMkiTvNBoNdRgioXjyKkmSd5RSZ+7Uftj+fSpJkrdXV1fvH+Uxod/vO6urq/cnSfK2UurUMNfsxMwZY8zrKysrD47i7JCmqVxZWXnQGPP6ME9+oN2UzPxECHG+Vqstj0pSVafTmWq1WjPW2lNKqd/s5NrdFk09Bsz7vn9ycnLyxr1KrEzTNFhbWxsUTS0qpT7c6T32WjY3C7wZRdF6rVb7/KDeMud57rVarS8VBxtz201z+woAQGvtAS8DvwzDsFWpVJr7lW9kjAk7nc6gcPIXwK827uzuCYCBtNYS+D4w57ruiSiK1oMguCuls71er9LtdifyPL8KvAn8QSl1V5I69rN4+ofAd4UQX5dS3vR9v1cUTqfbFU/nee5nWSbTNA2MMUestX8D/gj8bqSLp7eBMcWt8vlvcKvi9KvAUbYun78O/Av4CPgrt8rn93Wm+e8A7iLzS6p6CJoAAAAASUVORK5CYII="),this.g.pointerImageURL||(this.g.pointerImageURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7bGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTAzLTA1VDExOjQ4OjExKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMjAtMTEtMTNUMTQ6NDA6NDUrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDIwLTExLTEzVDE0OjQwOjQ1KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmUwOTZhNjVlLTU4ZTQtODU0Yy1iNTk0LWM5NzUzNmYwM2E1YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjI4NDRhNDYzLTI1N2ItMTFlYi05YjE4LWFjZDEzNGM4YThlODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozRkM2NUZGNUEzQ0MxMUU2QjhGOTlFMTYyOEIzMUI4MDwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozRkM2NUZGNkEzQ0MxMUU2QjhGOTlFMTYyOEIzMUI4MDwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjg3NzZBMTkxQTNEMDExRTZCOEY5OUUxNjI4QjMxQjgwPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDoyMDk3MmQ4Ni1lZDBmLTQyZDAtOTZiMS0xOWE0ZDUzN2YxZWQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDMtMDVUMTE6NTE6MjgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDplMDk2YTY1ZS01OGU0LTg1NGMtYjU5NC1jOTc1MzZmMDNhNWI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMjAtMTEtMTNUMTQ6NDA6NDUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pq677moAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAYFJREFUeNrsmztOw0AQhj+jFJScg4pDIHEKDgFHgBwkEQU4CTXiHIGAqdK6IiWNvTSWkKIQO469L/9TWbszI+ubf/ZhyYkxhiHbCQM3ARAAARAAARAAARAAARiqjfpKfPXwU+eyfQlJ9jm/Xp9KATEBMA3HtAbECMC0nJMCYgBgOvKRAkIEYHrylQJCAGAsxUgBPgIwjmKlAB8AGE9ySAEuABhPc0kBAiAAf9bbN8HJ5fcGOKvzy/O8SboNXASngLWnuawBePE0lzUAE6DoIE8BTEME8AU8dpDnCchC3QXGR6qgAO5D3gYzID0iPu2z+rbOAXdA2SKu7Lv6tgBkVR+36f3PWE6C4wNVUFYx0RyFPw5cC9IqJqq7QFMVWOl9FwBWwKyB38xW9V3cButUYK33XQF4B+Z75ueVT9TfA/5TgdXedwngDVjsGF/Yrr4rALtUYL33XQNYAs9b1V+6eJER7uwGOK+eb129RKJ/hgZuAiAAAiAAAiAAAiAAAjBU+x0Ac4ZVr2BJd94AAAAASUVORK5CYII=")}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.a()}},{key:"remove",value:function(){this.g.contain.removeChild(this.C)}},{key:"on",value:function(A,g){this.C.onclick=function(){g&&g()},this.C.addEventListener("touchend",function(){g&&g()},!1)}},{key:"checkPosition",value:function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case u.LEFT_TOP:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px";break;case u.RIGHT_TOP:I.style.right=-(g=g||{x:-10,y:10}).x+"px",I.style.top=g.y+"px";break;case u.LEFT_BOTTOM:I.style.left=(g=g||{x:10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;case u.RIGHT_BOTTOM:I.style.right=-(g=g||{x:-10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;default:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px"}}}])&&t(A.prototype,I),C&&t(A,C),g}();Object.assign(C.prototype,{a:function(){var A=this,g=document.createElement("div");g.style.cssText="position:absolute;left:10px;top:10px;",g.style.width=this.g.backgroundImageSize+"px",g.style.height=this.g.backgroundImageSize+"px",g.style.backgroundColor="#FFFFFF",g.style.backgroundSize="100% 100%",g.style.zIndex=20,g.style.backgroundImage="url('"+this.g.backgroundImageURL+"')",g.style.borderRadius="80px",this.g.position&&this.checkPosition(this.g.position,this.g.offset,g),this.g.contain?this.g.contain.appendChild(g):(this.g.contain=this.A.getContainer(),this.A.getContainer().appendChild(g));var I=-this.A.getRotation();this.I=document.createElement("div"),this.I.style.cssText="position:absolute;left:"+this.e+"px;top:"+this.h+"px;",this.I.style.transform="rotate("+I+"deg)",this.I.style.msTransform="rotate("+I+"deg)",this.I.style.mozTransform="rotate("+I+"deg)",this.I.style.webkitTransform="rotate("+I+"deg)",this.I.style.oTransform="rotate("+I+"deg)",this.I.style.width=this.g.pointerImageSize+"px",this.I.style.height=this.g.pointerImageSize+"px",this.I.style.backgroundSize="100% 100%",this.I.style.backgroundImage="url('"+this.g.pointerImageURL+"')",g.appendChild(this.I),this.C=g,this.A.on("update",function(){A.u()})},u:function(){var A=-this.A.getRotation();this.I.style.transform="rotate("+A+"deg)",this.I.style.msTransform="rotate("+A+"deg)",this.I.style.mozTransform="rotate("+A+"deg)",this.I.style.webkitTransform="rotate("+A+"deg)",this.I.style.oTransform="rotate("+A+"deg)",this.I.style.top=this.e+"px",this.I.style.left=this.h+"px"}});var i=C;function n(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var r=function(){function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)}var g,I,C;return g=A,C=[{key:"toColor",value:function(A){if("number"==typeof A)return A;var g=A.split(",");return 3<=g.length?parseInt(g[0])<<16|parseInt(g[1])<<8|parseInt(g[2]):(console.error("color format error",A),0)}},{key:"bindEvent",value:function(A,t,g,i){A.addEventListener(g,function(A){var g=A||window.event,I=g.target||g.srcElement,C=g.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(A){for(var g=(this.document||this.ownerDocument).querySelectorAll(A),I=g.length;0<=--I&&g.item(I)!==this;);return-1<I});I!==C;)I.matches(t)&&i.call(I,g),I=I.parentNode})}},{key:"scrollTopAnFun",value:function(){var o,C=!1;return function g(I){var t=I.el,i=I.to,A=I.form,n=(I.time,i<A?"up":"bottom"),s=10,e=(A<i?i-A:i==A?0:A-i)/s,h=0;function r(){if(--o<=0)return o=C=!1,void(t.scrollTop=0==A?0:A);window.setTimeout(function(){var A,g,I,C;!1!==o&&(g=(A={val:s,nbak:e,n:o,elTop:i,VDIRECTIONE:n}).val,I=A.nbak,C=A.n,A=A.elTop,(h="up"==n?A+(I-C)*g:A-(I-C)*g)&&(t.scrollTop=h),r())},s)}!function(){if(C)return o=0,window.setTimeout(function(){var A=Object(I,{to:t.scrollTop});C=!1,g(A)},s+1);C=!0,o=e,r()}()}}},{key:"sleep",value:function(A){for(var g=(new Date).getTime(),I=0;I<1e7&&!((new Date).getTime()-g>A);I++);}},{key:"getClikEventName",value:function(){return window.PointerEvent?"pointerdown":"click"}}],(I=null)&&n(g.prototype,I),C&&n(g,C),A}(),s={FMMap_CONTROL_SMALL:"small",FMMap_CONTROL_NORMAL:"normal"};var e=function A(g){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A),this.size=s.FMMap_CONTROL_NORMAL,this.position=u.LEFT_TOP,this.offset={x:10,y:10},this.imgURL="resource/style/wedgets/img/",this.floorButtonCount=5,this.needAllLayerBtn=!0,Object.assign(this,g)};function h(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var o=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),A=A||{},this.A=null,this.f=new e(A),this.f.position||(this.f.position=u.LEFT_TOP),this.v=A.contain,this.f.offset||(this.f.offset={x:10,y:10}),this.M=null,this.b=A.imgURL||"resource/style/wedgets/img/"}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.v||(this.v=this.A.getContainer()),this.init()}},{key:"remove",value:function(){this.v.removeChild(this.M)}},{key:"init",value:function(){var A=this.createPanel();this.M=A;var g=this;this.checkPosition(this.f.position,this.f.offset,A),r.bindEvent(A,"img","mouseover",function(A){this.src=this.dataset.on}),r.bindEvent(A,"img","mouseout",function(A){this.src=this.dataset.leave}),r.bindEvent(A,"div","click",function(A){"in"===this.dataset.type?g.A.zoomIn():g.A.zoomOut()}),r.bindEvent(A,"div","touchend",function(A){"in"===this.dataset.type?g.A.zoomIn():g.A.zoomOut()})}},{key:"showZoom",value:function(A){this.M.style.display=A?"block":"none"}},{key:"createPanel",value:function(){var A=document.createElement("div");A.setAttribute("class","fm-control-zoom"),A.style.zIndex=20,A.style.position="absolute",A.style.backgroundColor="white",A.style.boxShadow="2px 2px 3px rgba(0,0,0, 0.3)",A.style.borderRadius="2px",A.style.left=0,A.style.top=0,this.v.appendChild(A);return A.innerHTML=this.createInnerHtml("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOAgMAAABiJsVCAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAABmZmYAAABV8S+1AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAATSURBVAjXY2DAC0JDQwMgBF4AAFvvAp8tw46tAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAIElEQVQokWNgGAXUB4zGsrL/ydHIwsDAcI/KjhkFZAMA5XkCUOIdNxMAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOAgMAAABiJsVCAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAABmZmYAAABV8S+1AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAXSURBVAjXY2BgZQACXERoaGgAhMCrDgBkQQLbnsbDyQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAOElEQVQokWM0lpVlwAE+QGkBbJJMuHQRAiNBIwsDA8M7HHJ8UBqrPEU2CuGQg8UjVvkhFKr01wgAH8cEixbYBa8AAAAASUVORK5CYII="),A}},{key:"createInnerHtml",value:function(A,g,I,C){return'\n\n            <div data-type="in" style="padding: 14px; cursor: pointer;">\n            <img src='.concat(I," data-leave=").concat(I," data-on=").concat(C,' style="width: 14px; height: 14px;"/>\n             </div>\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n            <div data-type="out" style="padding: 14px; cursor: pointer;">\n            <img src=').concat(A," data-leave=").concat(A," data-on=").concat(g,' style="width: 14px; height: 14px;"/>\n            </div>\n        ')}},{key:"checkPosition",value:function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case u.LEFT_TOP:I.style.left=g.x+"px",I.style.top=g.y+"px";break;case u.RIGHT_TOP:I.style.right=-g.x+"px",I.style.top=g.y+"px";break;case u.LEFT_BOTTOM:I.style.left=g.x+"px",I.style.bottom=-g.y+"px";break;case u.RIGHT_BOTTOM:I.style.right=-g.x+"px",I.style.bottom=-g.y+"px"}}}])&&h(A.prototype,I),C&&h(A,C),g}(),a={MODE_3D:2,MODE_2D:4};Object.freeze(a);var c=a;function l(A,g){var I=document.createElement("div"),g='<div class="fm-scroll" id="scroll_'.concat(A+g,'"></div>');return I.innerHTML=g.trim(),I.firstChild}function f(A,g){A&&g?A.appendChild(g):console.error(A,g)}for(var v=[],d=0;d<256;d++)v[d]=(d<16?"0":"")+d.toString(16);var m,M={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var A=4294967295*Math.random()|0,g=4294967295*Math.random()|0,I=4294967295*Math.random()|0,C=4294967295*Math.random()|0;return(v[255&A]+v[A>>8&255]+v[A>>16&255]+v[A>>24&255]+"-"+v[255&g]+v[g>>8&255]+"-"+v[g>>16&15|64]+v[g>>24&255]+"-"+v[63&I|128]+v[I>>8&255]+"-"+v[I>>16&255]+v[I>>24&255]+v[255&C]+v[C>>8&255]+v[C>>16&255]+v[C>>24&255]).toUpperCase()},clamp:function(A,g,I){return Math.max(g,Math.min(I,A))},euclideanModulo:function(A,g){return(A%g+g)%g},mapLinear:function(A,g,I,C,t){return C+(A-g)*(t-C)/(I-g)},lerp:function(A,g,I){return(1-I)*A+I*g},smoothstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*(3-2*A)},smootherstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*A*(A*(6*A-15)+10)},randInt:function(A,g){return A+Math.floor(Math.random()*(g-A+1))},randFloat:function(A,g){return A+Math.random()*(g-A)},randFloatSpread:function(A){return A*(.5-Math.random())},degToRad:function(A){return A*M.DEG2RAD},radToDeg:function(A){return A*M.RAD2DEG},isPowerOfTwo:function(A){return 0==(A&A-1)&&0!==A},ceilPowerOfTwo:function(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},floorPowerOfTwo:function(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))},setQuaternionFromProperEuler:function(A,g,I,C,t){var i=Math.cos,n=Math.sin,s=i(I/2),e=n(I/2),h=i((g+C)/2),r=n((g+C)/2),o=i((g-C)/2),I=n((g-C)/2),i=i((C-g)/2),g=n((C-g)/2);"XYX"===t?A.set(s*r,e*o,e*I,s*h):"YZY"===t?A.set(e*I,s*r,e*o,s*h):"ZXZ"===t?A.set(e*o,e*I,s*r,s*h):"XZX"===t?A.set(s*r,e*g,e*i,s*h):"YXY"===t?A.set(e*i,s*r,e*g,s*h):"ZYZ"===t?A.set(e*g,e*i,s*r,s*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function p(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var y=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.v=(A=A||{}).contain,this.k=new e(A),this.T=this.k.floorButtonCount,this.A=null,this.R=!1,this.O=!0,this.Z=10,this.L=null,this.j=null,this.D=[],this.S=null,this.N=null,this.P=null,this.uuid=null,this.Y=null,this.scrollTopAn_=new r.scrollTopAnFun,this.viewModeControl=void 0===A.viewModeControl||A.viewModeControl,this.floorModeControl=void 0===A.floorModeControl||A.floorModeControl}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.Y=this.A.getLevel(),this.v||(this.v=this.A.getContainer()),this.init(),1<this.A.getVisibleLevels().length?this.setLayerStatus(!0):this.setLayerStatus(!1)}},{key:"remove",value:function(){this.A.off("levelChanged",this.gidchange),this.A.off("visibleLevelsLoaded",this.handleLayerChangeStyle),this.j&&this.v.removeChild(this.j),this.j=null}},{key:"init",value:function(){var I=this;this.uuid=M.generateUUID();var A=((a=document.createElement("div")).innerHTML='\n    <div class="fm-control-groups" </div>'.trim(),a.firstChild);this.j=A,function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case u.LEFT_TOP:I.style.left=g.x+"px",I.style.top=g.y+"px";break;case u.RIGHT_TOP:I.style.right=-g.x+"px",I.style.top=g.y+"px";break;case u.LEFT_BOTTOM:I.style.left=g.x+"px",I.style.bottom=-g.y+"px";break;case u.RIGHT_BOTTOM:I.style.right=-g.x+"px",I.style.bottom=-g.y+"px";break;default:I.style.left=g.x+"px",I.style.top=g.y+"px"}}(this.k.position,this.k.offset,A),f(this.v,A);var g=this.A.getLevels(),C=g.length,t=this.T,i=!0;this.viewModeControl&&(this.A.getViewMode()===c.MODE_3D?this.O=!1:this.O=!0,this.N=((n=document.createElement("div")).innerHTML='\n    <div class="fm-view fm-view-3d"></div>'.trim(),n.firstChild),this.initViewModePanelEvent(this.N),f(A,this.N),this.setViewModeToStyle(this.N,this.O?"2d":"3d"));var n=((a=document.createElement("div")).innerHTML='\n      <div class="fm-layer">\n        <div class="fm-layer-image-many"> </div>\n      </div>'.trim(),a.firstChild);if(this.k.needAllLayerBtn&&f(A,n),this.F=n,this.eventSwitchBtn(n),this.handleLayerChangeStyle=this.handleLayerChangeStyle.bind(this),this.A.on("visibleLevelsLoaded",this.handleLayerChangeStyle),this.floorModeControl){C<=this.T&&(t=C,i=!1);this.G;this.R&&this.W;n=((a=document.createElement("div")).innerHTML='<div class = "fm-floor-list-group" > </div'.trim(),a.firstChild);f(A,n),i&&n.appendChild(l("up",this.uuid));var s=((C=document.createElement("div")).innerHTML='<div class = "fm-floor-list" > </div'.trim(),C.firstChild);f(n,s),this.L=s,this.D=this.A.getFloorInfos();for(var e,h,r,o=this.D.length-1;-1<o;o--)s.appendChild((e=this.D[o],h=this.uuid,r=void 0,r=document.createElement("div"),e='\n    <label\n      class="fm-floor-name fm-floor-name-normal"\n      data-gid='.concat(e.level,'\n      id="gid_').concat(e.level+h,'"\n      <span>').concat(e.alias&&e.alias.toUpperCase()||e.name.toUpperCase(),"</span>\n    </label>"),r.innerHTML=e.trim(),r.firstChild)),0<o&&s.appendChild((r=void 0,(r=document.createElement("div")).innerHTML='\n  <hr class="fm-floor-line" />'.trim(),r.firstChild));var a=document.querySelector(".fm-floor-line"),C=0;a&&(C=a.getBoundingClientRect().height),this.U=document.querySelector(".fm-floor-name").clientHeight+C,document.querySelector(".fm-floor-list").style.height=this.U*t+"px",i&&n.appendChild(l("down",this.uuid)),s.scrollTop=this.getCenterScrolltopById(this.Y,g.length);n=document.getElementById("gid_"+this.Y+this.uuid);n.classList.remove("fm-floor-name-normal"),n.classList.add("fm-floor-name-active"),this.eventBtnPanelInit(s),this.eventPanelInit(A,s,g);g=function(A){var g=I.A.getLevels();A.level<g[0]||A.level>g[g.length-1]||(s.scrollTop=I.getCenterScrolltopById(A.level,g.length),I.setGidStyleByEvent(A.level,"levelChanged"))};this.gidchange=g,this.handleLayerChangeStyle=this.handleLayerChangeStyle.bind(this),this.A.on("levelChanged",g),this.V=function(A){return(I.map?I.map.mapView.container_:document).querySelector(A)}}}},{key:"handleLayerChange",value:function(){var A=this;!A.R?A.A.setVisibleLevels(A.A.getLevels()):A.A.setVisibleLevels([A.A.getLevel()])}},{key:"handleLayerChangeStyle",value:function(){1<this.A.getVisibleLevels().length?this.setLayerStatus(!0):this.setLayerStatus(!1)}},{key:"eventSwitchBtn",value:function(A){var g=r.getClikEventName();this.handleLayerChange=this.handleLayerChange.bind(this),A.addEventListener(g,this.handleLayerChange)}},{key:"setViewModeToStyle",value:function(A,g){"2d"==g?(A.classList.remove("fm-view-3d"),A.classList.add("fm-view-2d")):(A.classList.remove("fm-view-2d"),A.classList.add("fm-view-3d"))}},{key:"initViewModePanelEvent",value:function(A){var g=this,I=r.getClikEventName(),C=!0;A.addEventListener(I,function(){!1!==C&&(C=!1,g.A.getViewMode()===c.MODE_3D?(g.A.setViewMode({mode:c.MODE_2D,finish:function(){C=!0}}),g.setViewModeToStyle(this,"2d")):(g.A.setViewMode({mode:c.MODE_3D,finish:function(){C=!0}}),g.setViewModeToStyle(this,"3d")))})}},{key:"eventBtnPanelInit",value:function(I){var C=this,t=this;t.changeScrollBtnPic(),r.bindEvent(I,"label","click",function(){var A;t.Y!==parseInt(this.dataset.gid)&&(t.foucusId=parseInt(this.dataset.gid),A=t.A.getLevels(),this.dataset.gid<A[0]||this.dataset.gid>A[A.length-1]||(I.scrollTop=t.getCenterScrolltopById(parseInt(this.dataset.gid),A.length),t.setGidStyleByClick(this.dataset.gid,"click")))});function A(A){t.changeScrollBtnPic();var g=0;A.wheelDelta?g+=-A.wheelDelta:A.detail&&(g+=A.detail),C.scrollTopAn_({el:I,to:I.scrollTop,form:I.scrollTop+g}),A.stopPropagation()}I.addEventListener("mousewheel",A,{passive:!0}),I.addEventListener("MozMousePixelScroll",A,!1),I.addEventListener("touchstart",this.touchstart.bind(this),!1),I.addEventListener("touchmove",this.touchmove.bind(this),!1),I.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(A){A.preventDefault(),this.touchStartPointY=A.touches[0].pageY,this.touchPointX=A.touches[0].pageX,this.touchPointY=A.touches[0].pageY,A.stopPropagation()}},{key:"touchmove",value:function(A){A.preventDefault(),this.touchEndPointX=A.touches[0].pageX,this.touchEndPointY=A.touches[0].pageY,this.handleTouchEnd(A),A.stopPropagation()}},{key:"handleTouchEnd",value:function(A){var g,I=this,C=0;0<(A=A||window.event).changedTouches.length&&(I.touchEndPointX=A.changedTouches[0].pageX,I.touchEndPointY=A.changedTouches[0].pageY),(g=A.target)instanceof HTMLSpanElement==!0&&g.parentElement,0!=(C=-(I.touchEndPointY-I.touchPointY))&&(I.touchPointX=I.touchEndPointX,I.touchPointY=I.touchEndPointY,I=I.V(".fm-floor-list"),this.scrollTopAn_({el:I,to:I.scrollTop,form:I.scrollTop+C}))}},{key:"touchend",value:function(A){var g=this,I=null;0<(A=A||window.event).changedTouches.length&&(g.touchEndPointX=A.changedTouches[0].pageX,g.touchEndPointY=A.changedTouches[0].pageY),(I=A.target)instanceof HTMLSpanElement==!0&&(I=I.parentElement);var C=Math.abs(g.touchEndPointY-g.touchStartPointY);C<5&&0<=C&&I&&(I=parseInt(I.dataset.gid),isNaN(I)||(g.foucusId=I,g.setGidStyleByClick(I,"click"))),A.stopPropagation()}},{key:"eventPanelInit",value:function(A,s,e){var h=this;A.onselectstart=function(){return!1},A.style.MozUserSelect="none",r.bindEvent(A,".fm-scroll","click",function(A){var g=this.U,I=e.length-Math.floor(s.scrollTop/g)-(h.T-1),C=s.scrollTop%g,t=I+h.T-1+(0<C?1:0),i=0;if(this.id==="scroll_up"+h.uuid){var n=h.Y+1,n=Math.min(e[e.length-1],n);if(h.foucusId==n)return;h.foucusId=n,h.setGidStyleByClick(n,"click"),n<I?i-=0<C?g-C:0:n<=1+t&&n===1+t&&(i-=g+(0<C?g-C:0))}else{n=h.Y-1,n=Math.max(e[0],n);if(h.foucusId==n)return;h.foucusId=n,h.setGidStyleByClick(n,"click"),t<n?i+=0<C?C:0:I-1<=n&&n===I-1&&(i+=g+(0<C?C:0))}0!=i&&h.scrollTopAn_({el:s,to:s.scrollTop,form:s.scrollTop+i})}),r.bindEvent(A,".fm-scroll","touchend",function(A){var g=this.U,I=e.length-Math.floor(s.scrollTop/g)-(h.T-1),C=s.scrollTop%g,t=I+h.T-1+(0<C?1:0),i=0;if(this.id==="scroll_up"+h.uuid){var n=h.Y+1,n=Math.min(e[e.length-1],n);if(h.foucusId==n)return;h.foucusId=n,h.setGidStyleByClick(n,"click"),n<I?i-=0<C?g-C:0:n<=1+t&&n===1+t&&(i-=g+(0<C?g-C:0))}else{n=h.Y-1,n=Math.max(e[0],n);if(h.foucusId==n)return;h.foucusId=n,h.setGidStyleByClick(n,"click"),t<n?i+=0<C?C:0:I-1<=n&&n===I-1&&(i+=g+(0<C?C:0))}0!=i&&h.scrollTopAn_({el:s,to:s.scrollTop,form:s.scrollTop+i})})}},{key:"getCenterScrolltopById",value:function(A,g){return(g-A-Math.floor(this.T/2))*this.U}},{key:"changeScrollBtnPic",value:function(){var A=this.Y,g=this.A.getLevels();g.sort(function(A,g){return A-g});var I=document.getElementById("scroll_down"+this.uuid),C=document.getElementById("scroll_up"+this.uuid);A==g[0]&&I?(I.classList.remove("fm-scroll-down"),I.classList.add("fm-scroll-down-grey")):I&&(I.classList.remove("fm-scroll-down-grey"),I.classList.add("fm-scroll-down")),A==g[g.length-1]&&C?(C.classList.remove("fm-scroll-up"),C.classList.add("fm-scroll-up-grey")):C&&(C.classList.remove("fm-scroll-up-grey"),C.classList.add("fm-scroll-up"))}},{key:"changeFocusLevel",value:function(A){this.foucusId=A}},{key:"changeLevelsSelect",value:function(A){this.setLayerStatus(A),this.allLayer=A}},{key:"setLayerStatus",value:function(A){this.R=A,this.R?(this.F.firstElementChild.classList.remove("fm-layer-image-one"),this.F.firstElementChild.classList.add("fm-layer-image-many")):(this.F.firstElementChild.classList.remove("fm-layer-image-many"),this.F.firstElementChild.classList.add("fm-layer-image-one"))}},{key:"onChange",value:function(A){m=A}},{key:"foucusId",get:function(){return this.Y},set:function(A){var g=this;null!==this.P&&!1===this.X&&this.P.finish(),this.X=!1,this.A.setLevel({level:A,finish:function(){g.X=!0},callback:function(A){g.P=A}}),m&&m([A])}},{key:"setGidStyleByEvent",value:function(A){this.setGidStyleByClick(A)}},{key:"setGidStyleByClick",value:function(A){var g=document.getElementById("gid_"+this.Y+this.uuid);g.classList.remove("fm-floor-name-active"),g.classList.add("fm-floor-name-normal"),this.Y=parseInt(A);A=document.getElementById("gid_"+A+this.uuid);A.classList.remove("fm-floor-name-normal"),A.classList.add("fm-floor-name-active"),this.changeScrollBtnPic()}},{key:"allLayer",get:function(){return this.R},set:function(A){A?this.A.setVisibleLevels(this.A.getLevels()):this.A.setVisibleLevels([this.A.getLevel()])}}])&&p(A.prototype,I),C&&p(A,C),g}(),b={MODULE_SHORTEST:1,MODULE_BEST:2},w={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},k={ZH:"zh",EN:"en"};var E=function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)};Object.assign(E.prototype,{K:function(A,g){void 0===this.B&&(this.B={});var I=this.B;void 0===I[A]&&(I[A]=[]),-1===I[A].indexOf(g)&&I[A].push(g)},_:function(A,g){if(void 0===this.B)return!1;var I=this.B;return void 0!==I[A]&&-1!==I[A].indexOf(g)},Q:function(A,g){void 0!==this.B&&(void 0===(A=this.B[A])||-1!==(g=A.indexOf(g))&&A.splice(g,1))},H:function(A){if(void 0!==this.B){var g=this.B[A.type];if(void 0!==g)for(var I=g.slice(0),C=0,t=I.length;C<t;C++)I[C].call(this,A)}}});var T=E;function x(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var R=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.autoStart=void 0===A||A,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var A,I,C;return A=g,(I=[{key:"start",value:function(){this.startTime=O(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var A,g=0;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(g=((A=O())-this.oldTime)/1e3,this.oldTime=A,this.elapsedTime+=g),g)}}])&&x(A.prototype,I),C&&x(A,C),g}();function O(){return("undefined"==typeof performance?Date:performance).now()}for(var Z=[],L=0;L<256;L++)Z[L]=(L<16?"0":"")+L.toString(16);var j=1234567,D={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var A=4294967295*Math.random()|0,g=4294967295*Math.random()|0,I=4294967295*Math.random()|0,C=4294967295*Math.random()|0;return(Z[255&A]+Z[A>>8&255]+Z[A>>16&255]+Z[A>>24&255]+"-"+Z[255&g]+Z[g>>8&255]+"-"+Z[g>>16&15|64]+Z[g>>24&255]+"-"+Z[63&I|128]+Z[I>>8&255]+"-"+Z[I>>16&255]+Z[I>>24&255]+Z[255&C]+Z[C>>8&255]+Z[C>>16&255]+Z[C>>24&255]).toUpperCase()},clamp:function(A,g,I){return Math.max(g,Math.min(I,A))},euclideanModulo:function(A,g){return(A%g+g)%g},mapLinear:function(A,g,I,C,t){return C+(A-g)*(t-C)/(I-g)},lerp:function(A,g,I){return(1-I)*A+I*g},smoothstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*(3-2*A)},smootherstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*A*(A*(6*A-15)+10)},randInt:function(A,g){return A+Math.floor(Math.random()*(g-A+1))},randFloat:function(A,g){return A+Math.random()*(g-A)},randFloatSpread:function(A){return A*(.5-Math.random())},seededRandom:function(A){return((j=16807*(j=void 0!==A?A%2147483647:j)%2147483647)-1)/2147483646},degToRad:function(A){return A*D.DEG2RAD},radToDeg:function(A){return A*D.RAD2DEG},isPowerOfTwo:function(A){return 0==(A&A-1)&&0!==A},ceilPowerOfTwo:function(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},floorPowerOfTwo:function(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))},setQuaternionFromProperEuler:function(A,g,I,C,t){var i=Math.cos,n=Math.sin,s=i(I/2),e=n(I/2),h=i((g+C)/2),r=n((g+C)/2),o=i((g-C)/2),a=n((g-C)/2),u=i((C-g)/2),c=n((C-g)/2);switch(t){case"XYX":A.set(s*r,e*o,e*a,s*h);break;case"YZY":A.set(e*a,s*r,e*o,s*h);break;case"ZXZ":A.set(e*o,e*a,s*r,s*h);break;case"XZX":A.set(s*r,e*c,e*u,s*h);break;case"YXY":A.set(e*u,s*r,e*c,s*h);break;case"ZYZ":A.set(e*c,e*u,s*r,s*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+t)}}};function S(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}I=function(){function t(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this.J=A,this.q=g,this.$=I,this.AA=C}var A,g,I;return A=t,I=[{key:"slerp",value:function(A,g,I,C){return I.copy(A).slerp(g,C)}},{key:"slerpFlat",value:function(A,g,I,C,t,i,n){var s=I[C+0],e=I[C+1],h=I[C+2],r=I[C+3],o=t[i+0],a=t[i+1],u=t[i+2],c=t[i+3];r===c&&s===o&&e===a&&h===u||(I=1-n,t=0<=(C=s*o+e*a+h*u+r*c)?1:-1,(i=1-C*C)>Number.EPSILON&&(i=Math.sqrt(i),C=Math.atan2(i,C*t),I=Math.sin(I*C)/i,n=Math.sin(n*C)/i),s=s*I+o*(t=n*t),e=e*I+a*t,h=h*I+u*t,r=r*I+c*t,I===1-n&&(s*=n=1/Math.sqrt(s*s+e*e+h*h+r*r),e*=n,h*=n,r*=n)),A[g]=s,A[g+1]=e,A[g+2]=h,A[g+3]=r}},{key:"multiplyQuaternionsFlat",value:function(A,g,I,C,t,i){var n=I[C],s=I[C+1],e=I[C+2],h=I[C+3],r=t[i],I=t[i+1],C=t[i+2],i=t[i+3];return A[g]=n*i+h*r+s*C-e*I,A[g+1]=s*i+h*I+e*r-n*C,A[g+2]=e*i+h*C+n*I-s*r,A[g+3]=h*i-n*r-s*I-e*C,A}}],(g=[{key:"x",get:function(){return this.J},set:function(A){this.J=A,this.gA()}},{key:"y",get:function(){return this.q},set:function(A){this.q=A,this.gA()}},{key:"z",get:function(){return this.$},set:function(A){this.$=A,this.gA()}},{key:"w",get:function(){return this.AA},set:function(A){this.AA=A,this.gA()}},{key:"set",value:function(A,g,I,C){return this.J=A,this.q=g,this.$=I,this.AA=C,this.gA(),this}},{key:"clone",value:function(){return new this.constructor(this.J,this.q,this.$,this.AA)}},{key:"copy",value:function(A){return this.J=A.x,this.q=A.y,this.$=A.z,this.AA=A.w,this.gA(),this}},{key:"setFromEuler",value:function(A,g){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var I=A.J,C=A.q,t=A.$,i=A.IA,n=Math.cos,A=Math.sin,s=n(I/2),e=n(C/2),h=n(t/2),r=A(I/2),o=A(C/2),a=A(t/2);switch(i){case"XYZ":this.J=r*e*h+s*o*a,this.q=s*o*h-r*e*a,this.$=s*e*a+r*o*h,this.AA=s*e*h-r*o*a;break;case"YXZ":this.J=r*e*h+s*o*a,this.q=s*o*h-r*e*a,this.$=s*e*a-r*o*h,this.AA=s*e*h+r*o*a;break;case"ZXY":this.J=r*e*h-s*o*a,this.q=s*o*h+r*e*a,this.$=s*e*a+r*o*h,this.AA=s*e*h-r*o*a;break;case"ZYX":this.J=r*e*h-s*o*a,this.q=s*o*h+r*e*a,this.$=s*e*a-r*o*h,this.AA=s*e*h+r*o*a;break;case"YZX":this.J=r*e*h+s*o*a,this.q=s*o*h+r*e*a,this.$=s*e*a-r*o*h,this.AA=s*e*h-r*o*a;break;case"XZY":this.J=r*e*h-s*o*a,this.q=s*o*h-r*e*a,this.$=s*e*a+r*o*h,this.AA=s*e*h+r*o*a;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==g&&this.gA(),this}},{key:"setFromAxisAngle",value:function(A,g){var I=g/2,g=Math.sin(I);return this.J=A.x*g,this.q=A.y*g,this.$=A.z*g,this.AA=Math.cos(I),this.gA(),this}},{key:"setFromRotationMatrix",value:function(A){var g,I=A.elements,C=I[0],t=I[4],i=I[8],n=I[1],s=I[5],e=I[9],h=I[2],r=I[6],A=I[10],I=C+s+A;return 0<I?(I=.5/Math.sqrt(I+1),this.AA=.25/I,this.J=(r-e)*I,this.q=(i-h)*I,this.$=(n-t)*I):s<C&&A<C?(g=2*Math.sqrt(1+C-s-A),this.AA=(r-e)/g,this.J=.25*g,this.q=(t+n)/g,this.$=(i+h)/g):A<s?(g=2*Math.sqrt(1+s-C-A),this.AA=(i-h)/g,this.J=(t+n)/g,this.q=.25*g,this.$=(e+r)/g):(s=2*Math.sqrt(1+A-C-s),this.AA=(n-t)/s,this.J=(i+h)/s,this.q=(e+r)/s,this.$=.25*s),this.gA(),this}},{key:"setFromUnitVectors",value:function(A,g){var I=A.dot(g)+1;return I<1e-6?(I=0,Math.abs(A.x)>Math.abs(A.z)?(this.J=-A.y,this.q=A.x,this.$=0):(this.J=0,this.q=-A.z,this.$=A.y)):(this.J=A.y*g.z-A.z*g.y,this.q=A.z*g.x-A.x*g.z,this.$=A.x*g.y-A.y*g.x),this.AA=I,this.normalize()}},{key:"angleTo",value:function(A){return 2*Math.acos(Math.abs(D.clamp(this.dot(A),-1,1)))}},{key:"rotateTowards",value:function(A,g){var I=this.angleTo(A);if(0===I)return this;I=Math.min(1,g/I);return this.slerp(A,I),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.J*=-1,this.q*=-1,this.$*=-1,this.gA(),this}},{key:"dot",value:function(A){return this.J*A.J+this.q*A.q+this.$*A.$+this.AA*A.AA}},{key:"lengthSq",value:function(){return this.J*this.J+this.q*this.q+this.$*this.$+this.AA*this.AA}},{key:"length",value:function(){return Math.sqrt(this.J*this.J+this.q*this.q+this.$*this.$+this.AA*this.AA)}},{key:"normalize",value:function(){var A=this.length();return 0===A?(this.J=0,this.q=0,this.$=0,this.AA=1):(this.J=this.J*(A=1/A),this.q=this.q*A,this.$=this.$*A,this.AA=this.AA*A),this.gA(),this}},{key:"multiply",value:function(A,g){return void 0!==g?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,g)):this.multiplyQuaternions(this,A)}},{key:"premultiply",value:function(A){return this.multiplyQuaternions(A,this)}},{key:"multiplyQuaternions",value:function(A,g){var I=A.J,C=A.q,t=A.$,i=A.AA,n=g.J,s=g.q,A=g.$,g=g.AA;return this.J=I*g+i*n+C*A-t*s,this.q=C*g+i*s+t*n-I*A,this.$=t*g+i*A+I*s-C*n,this.AA=i*g-I*n-C*s-t*A,this.gA(),this}},{key:"slerp",value:function(A,g){if(0===g)return this;if(1===g)return this.copy(A);var I=this.J,C=this.q,t=this.$,i=this.AA,n=i*A.AA+I*A.J+C*A.q+t*A.$;if(n<0?(this.AA=-A.AA,this.J=-A.J,this.q=-A.q,this.$=-A.$,n=-n):this.copy(A),1<=n)return this.AA=i,this.J=I,this.q=C,this.$=t,this;A=1-n*n;if(A<=Number.EPSILON){var s=1-g;return this.AA=s*i+g*this.AA,this.J=s*I+g*this.J,this.q=s*C+g*this.q,this.$=s*t+g*this.$,this.normalize(),this.gA(),this}s=Math.sqrt(A),A=Math.atan2(s,n),n=Math.sin((1-g)*A)/s,s=Math.sin(g*A)/s;return this.AA=i*n+this.AA*s,this.J=I*n+this.J*s,this.q=C*n+this.q*s,this.$=t*n+this.$*s,this.gA(),this}},{key:"equals",value:function(A){return A.J===this.J&&A.q===this.q&&A.$===this.$&&A.AA===this.AA}},{key:"fromArray",value:function(A){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.J=A[g],this.q=A[g+1],this.$=A[g+2],this.AA=A[g+3],this.gA(),this}},{key:"toArray",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return A[g]=this.J,A[g+1]=this.q,A[g+2]=this.$,A[g+3]=this.AA,A}},{key:"fromBufferAttribute",value:function(A,g){return this.J=A.getX(g),this.q=A.getY(g),this.$=A.getZ(g),this.AA=A.getW(g),this}},{key:"_onChange",value:function(A){return this.gA=A,this}},{key:"_onChangeCallback",value:function(){}}])&&S(A.prototype,g),I&&S(A,I),t}();function N(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var P=function(){function C(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,C),Object.defineProperty(this,"isVector3",{value:!0}),this.x=A,this.y=g,this.z=I}var A,g,I;return A=C,(g=[{key:"set",value:function(A,g,I){return void 0===I&&(I=this.z),this.x=A,this.y=g,this.z=I,this}},{key:"setScalar",value:function(A){return this.x=A,this.y=A,this.z=A,this}},{key:"setX",value:function(A){return this.x=A,this}},{key:"setY",value:function(A){return this.y=A,this}},{key:"setZ",value:function(A){return this.z=A,this}},{key:"setComponent",value:function(A,g){switch(A){case 0:this.x=g;break;case 1:this.y=g;break;case 2:this.z=g;break;default:throw new Error("index is out of range: "+A)}return this}},{key:"getComponent",value:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this}},{key:"add",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,g)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)}},{key:"addScalar",value:function(A){return this.x+=A,this.y+=A,this.z+=A,this}},{key:"addVectors",value:function(A,g){return this.x=A.x+g.x,this.y=A.y+g.y,this.z=A.z+g.z,this}},{key:"addScaledVector",value:function(A,g){return this.x+=A.x*g,this.y+=A.y*g,this.z+=A.z*g,this}},{key:"sub",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,g)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)}},{key:"subScalar",value:function(A){return this.x-=A,this.y-=A,this.z-=A,this}},{key:"subVectors",value:function(A,g){return this.x=A.x-g.x,this.y=A.y-g.y,this.z=A.z-g.z,this}},{key:"multiply",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,g)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)}},{key:"multiplyScalar",value:function(A){return this.x*=A,this.y*=A,this.z*=A,this}},{key:"multiplyVectors",value:function(A,g){return this.x=A.x*g.x,this.y=A.y*g.y,this.z=A.z*g.z,this}},{key:"applyEuler",value:function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(F.setFromEuler(A))}},{key:"applyAxisAngle",value:function(A,g){return this.applyQuaternion(F.setFromAxisAngle(A,g))}},{key:"applyMatrix3",value:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[3]*I+A[6]*C,this.y=A[1]*g+A[4]*I+A[7]*C,this.z=A[2]*g+A[5]*I+A[8]*C,this}},{key:"applyNormalMatrix",value:function(A){return this.applyMatrix3(A).normalize()}},{key:"applyMatrix4",value:function(A){var g=this.x,I=this.y,C=this.z,t=A.elements,A=1/(t[3]*g+t[7]*I+t[11]*C+t[15]);return this.x=(t[0]*g+t[4]*I+t[8]*C+t[12])*A,this.y=(t[1]*g+t[5]*I+t[9]*C+t[13])*A,this.z=(t[2]*g+t[6]*I+t[10]*C+t[14])*A,this}},{key:"applyQuaternion",value:function(A){var g=this.x,I=this.y,C=this.z,t=A.x,i=A.y,n=A.z,s=A.w,e=s*g+i*C-n*I,h=s*I+n*g-t*C,A=s*C+t*I-i*g,C=-t*g-i*I-n*C;return this.x=e*s+C*-t+h*-n-A*-i,this.y=h*s+C*-i+A*-t-e*-n,this.z=A*s+C*-n+e*-i-h*-t,this}},{key:"project",value:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)}},{key:"unproject",value:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)}},{key:"transformDirection",value:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[4]*I+A[8]*C,this.y=A[1]*g+A[5]*I+A[9]*C,this.z=A[2]*g+A[6]*I+A[10]*C,this.normalize()}},{key:"divide",value:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this}},{key:"divideScalar",value:function(A){return this.multiplyScalar(1/A)}},{key:"min",value:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this}},{key:"max",value:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this}},{key:"clamp",value:function(A,g){return this.x=Math.max(A.x,Math.min(g.x,this.x)),this.y=Math.max(A.y,Math.min(g.y,this.y)),this.z=Math.max(A.z,Math.min(g.z,this.z)),this}},{key:"clampScalar",value:function(A,g){return this.x=Math.max(A,Math.min(g,this.x)),this.y=Math.max(A,Math.min(g,this.y)),this.z=Math.max(A,Math.min(g,this.z)),this}},{key:"clampLength",value:function(A,g){var I=this.length();return this.divideScalar(I||1).multiplyScalar(Math.max(A,Math.min(g,I)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(A){return this.x*A.x+this.y*A.y+this.z*A.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(A){return this.normalize().multiplyScalar(A)}},{key:"lerp",value:function(A,g){return this.x+=(A.x-this.x)*g,this.y+=(A.y-this.y)*g,this.z+=(A.z-this.z)*g,this}},{key:"lerpVectors",value:function(A,g,I){return this.x=A.x+(g.x-A.x)*I,this.y=A.y+(g.y-A.y)*I,this.z=A.z+(g.z-A.z)*I,this}},{key:"cross",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,g)):this.crossVectors(this,A)}},{key:"crossVectors",value:function(A,g){var I=A.x,C=A.y,t=A.z,i=g.x,A=g.y,g=g.z;return this.x=C*g-t*A,this.y=t*i-I*g,this.z=I*A-C*i,this}},{key:"projectOnVector",value:function(A){var g=A.lengthSq();if(0===g)return this.set(0,0,0);g=A.dot(this)/g;return this.copy(A).multiplyScalar(g)}},{key:"projectOnPlane",value:function(A){return Y.copy(this).projectOnVector(A),this.sub(Y)}},{key:"reflect",value:function(A){return this.sub(Y.copy(A).multiplyScalar(2*this.dot(A)))}},{key:"angleTo",value:function(A){var g=Math.sqrt(this.lengthSq()*A.lengthSq());if(0===g)return Math.PI/2;g=this.dot(A)/g;return Math.acos(D.clamp(g,-1,1))}},{key:"distanceTo",value:function(A){return Math.sqrt(this.distanceToSquared(A))}},{key:"distanceToSquared",value:function(A){var g=this.x-A.x,I=this.y-A.y,A=this.z-A.z;return g*g+I*I+A*A}},{key:"manhattanDistanceTo",value:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)}},{key:"setFromSpherical",value:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)}},{key:"setFromSphericalCoords",value:function(A,g,I){var C=Math.sin(g)*A;return this.x=C*Math.sin(I),this.y=Math.cos(g)*A,this.z=C*Math.cos(I),this}},{key:"setFromCylindrical",value:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)}},{key:"setFromCylindricalCoords",value:function(A,g,I){return this.x=A*Math.sin(g),this.y=I,this.z=A*Math.cos(g),this}},{key:"setFromMatrixPosition",value:function(A){A=A.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this}},{key:"setFromMatrixScale",value:function(A){var g=this.setFromMatrixColumn(A,0).length(),I=this.setFromMatrixColumn(A,1).length(),A=this.setFromMatrixColumn(A,2).length();return this.x=g,this.y=I,this.z=A,this}},{key:"setFromMatrixColumn",value:function(A,g){return this.fromArray(A.elements,4*g)}},{key:"setFromMatrix3Column",value:function(A,g){return this.fromArray(A.elements,3*g)}},{key:"equals",value:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z}},{key:"fromArray",value:function(A){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=A[g],this.y=A[g+1],this.z=A[g+2],this}},{key:"toArray",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return A[g]=this.x,A[g+1]=this.y,A[g+2]=this.z,A}},{key:"fromBufferAttribute",value:function(A,g,I){return void 0!==I&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(g),this.y=A.getY(g),this.z=A.getZ(g),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&N(A.prototype,g),I&&N(A,I),C}(),Y=new P,F=new I;function G(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}C=function(){function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A),this.CA={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.tA={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var g,I,C;return g=A,(I=[{key:"min",get:function(){return this.CA}},{key:"max",get:function(){return this.tA}},{key:"center",get:function(){var A={x:Number.NaN,y:Number.NaN};return this.iA()&&(A.x=(this.CA.x+this.tA.x)/2,A.y=(this.CA.y+this.tA.y)/2),A}},{key:"size",get:function(){var A={x:Number.NaN,y:Number.NaN};return this.iA()&&(A.x=this.tA.x-this.CA.x,A.y=this.tA.y-this.CA.y),A}},{key:"toObject",value:function(){return{min:this.CA,max:this.tA,center:this.center,size:this.size}}}])&&G(g.prototype,I),C&&G(g,C),A}();Object.assign(C.prototype,{iA:function(){return!(this.CA.x>this.tA.x||this.CA.y>this.tA.y)},nA:function(A){A&&A.iA()&&(A.CA.x<this.CA.x&&(this.CA.x=A.CA.x),A.CA.y<this.CA.y&&(this.CA.y=A.CA.y),A.tA.x>this.tA.x&&(this.tA.x=A.tA.x),A.tA.y>this.tA.y&&(this.tA.y=A.tA.y))},sA:function(A){var g=this;A&&0!=A.length&&A.forEach(function(A){A.x<g.CA.x&&(g.CA.x=A.x),A.y<g.CA.y&&(g.CA.y=A.y),A.x>g.tA.x&&(g.tA.x=A.x),A.y>g.tA.y&&(g.tA.y=A.y)})}});var z=C,W=function(A,g,I){I=I||2;var C,t,i,n,s,e=g&&g.length,h=e?g[0]*I:A.length,r=U(A,0,h,I,!0),o=[];if(!r||r.next===r.prev)return o;if(e&&(r=function(A,g,I,C){var t,i,n,s,e=[];for(t=0,i=g.length;t<i;t++)n=g[t]*C,s=t<i-1?g[t+1]*C:A.length,(s=U(A,n,s,C,!1))===s.next&&(s.steiner=!0),e.push(function(A){var g=A,I=A;for(;(g.x<I.x||g.x===I.x&&g.y<I.y)&&(I=g),g=g.next,g!==A;);return I}(s));for(e.sort(K),t=0;t<e.length;t++)!function(A,g){(g=function(A,g){var I,C=g,t=A.x,i=A.y,n=-1/0;do{if(i<=C.y&&i>=C.next.y&&C.next.y!==C.y){var s=C.x+(i-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(s<=t&&n<s){if((n=s)===t){if(i===C.y)return C;if(i===C.next.y)return C.next}I=C.x<C.next.x?C:C.next}}}while(C=C.next,C!==g);if(!I)return null;if(t===n)return I;var e,h=I,r=I.x,o=I.y,a=1/0;C=I;for(;t>=C.x&&C.x>=r&&t!==C.x&&_(i<o?t:n,i,r,o,i<o?n:t,i,C.x,C.y)&&(e=Math.abs(i-C.y)/(t-C.x),AA(C,A)&&(e<a||e===a&&(C.x>I.x||C.x===I.x&&function(A,g){return Q(A.prev,A,g.prev)<0&&Q(g.next,A,A.next)<0}(I,C)))&&(I=C,a=e)),C=C.next,C!==h;);return I}(A,g))&&(A=gA(g,A),V(g,g.next),V(A,A.next))}(e[t],I),I=V(I,I.next);return I}(A,g,r,I)),A.length>80*I){for(var a=C=A[0],u=t=A[1],c=I;c<h;c+=I)(i=A[c])<a&&(a=i),(n=A[c+1])<u&&(u=n),C<i&&(C=i),t<n&&(t=n);s=0!==(s=Math.max(C-a,t-u))?1/s:0}return X(r,o,I,a,u,s),o};function U(A,g,I,C,t){var i,n;if(t===0<function(A,g,I,C){for(var t=0,i=g,n=I-C;i<I;i+=C)t+=(A[n]-A[i])*(A[i+1]+A[n+1]),n=i;return t}(A,g,I,C))for(i=g;i<I;i+=C)n=IA(i,A[i],A[i+1],n);else for(i=I-C;g<=i;i-=C)n=IA(i,A[i],A[i+1],n);return n&&H(n,n.next)&&(CA(n),n=n.next),n}function V(A,g){if(!A)return A;g=g||A;var I,C=A;do{if(I=!1,C.steiner||!H(C,C.next)&&0!==Q(C.prev,C,C.next))C=C.next;else{if(CA(C),(C=g=C.prev)===C.next)break;I=!0}}while(I||C!==g);return g}function X(A,g,I,C,t,i,n){if(A){!n&&i&&function(A,g,I,C){var t=A;for(;null===t.z&&(t.z=B(t.x,t.y,g,I,C)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next,t!==A;);t.prevZ.nextZ=null,t.prevZ=null,function(A){var g,I,C,t,i,n,s,e,h=1;do{for(I=A,i=A=null,n=0;I;){for(n++,C=I,g=s=0;g<h&&(s++,C=C.nextZ);g++);for(e=h;0<s||0<e&&C;)0!==s&&(0===e||!C||I.z<=C.z)?(I=(t=I).nextZ,s--):(C=(t=C).nextZ,e--),i?i.nextZ=t:A=t,t.prevZ=i,i=t;I=C}}while(i.nextZ=null,h*=2,1<n)}(t)}(A,C,t,i);for(var s,e,h=A;A.prev!==A.next;)if(s=A.prev,e=A.next,i?function(A,g,I,C){var t=A.prev,i=A,n=A.next;if(0<=Q(t,i,n))return!1;var s=(t.x<i.x?t.x<n.x?t:n:i.x<n.x?i:n).x,e=(t.y<i.y?t.y<n.y?t:n:i.y<n.y?i:n).y,h=(t.x>i.x?t.x>n.x?t:n:i.x>n.x?i:n).x,r=(t.y>i.y?t.y>n.y?t:n:i.y>n.y?i:n).y,o=B(s,e,g,I,C),a=B(h,r,g,I,C),u=A.prevZ,c=A.nextZ;for(;u&&u.z>=o&&c&&c.z<=a;){if(u!==A.prev&&u!==A.next&&_(t.x,t.y,i.x,i.y,n.x,n.y,u.x,u.y)&&0<=Q(u.prev,u,u.next))return!1;if(u=u.prevZ,c!==A.prev&&c!==A.next&&_(t.x,t.y,i.x,i.y,n.x,n.y,c.x,c.y)&&0<=Q(c.prev,c,c.next))return!1;c=c.nextZ}for(;u&&u.z>=o;){if(u!==A.prev&&u!==A.next&&_(t.x,t.y,i.x,i.y,n.x,n.y,u.x,u.y)&&0<=Q(u.prev,u,u.next))return!1;u=u.prevZ}for(;c&&c.z<=a;){if(c!==A.prev&&c!==A.next&&_(t.x,t.y,i.x,i.y,n.x,n.y,c.x,c.y)&&0<=Q(c.prev,c,c.next))return!1;c=c.nextZ}return!0}(A,C,t,i):function(A){var g=A.prev,I=A,C=A.next;if(0<=Q(g,I,C))return!1;var t=A.next.next;for(;t!==A.prev;){if(_(g.x,g.y,I.x,I.y,C.x,C.y,t.x,t.y)&&0<=Q(t.prev,t,t.next))return!1;t=t.next}return!0}(A))g.push(s.i/I),g.push(A.i/I),g.push(e.i/I),CA(A),A=e.next,h=e.next;else if((A=e)===h){n?1===n?X(A=function(A,g,I){var C=A;do{var t=C.prev,i=C.next.next}while(!H(t,i)&&J(t,C,C.next,i)&&AA(t,i)&&AA(i,t)&&(g.push(t.i/I),g.push(C.i/I),g.push(i.i/I),CA(C),CA(C.next),C=A=i),C=C.next,C!==A);return V(C)}(V(A),g,I),g,I,C,t,i,2):2===n&&function(A,g,I,C,t,i){var n=A;do{for(var s=n.next.next;s!==n.prev;){if(n.i!==s.i&&function(A,g){return A.next.i!==g.i&&A.prev.i!==g.i&&!function(A,g){var I=A;do{if(I.i!==A.i&&I.next.i!==A.i&&I.i!==g.i&&I.next.i!==g.i&&J(I,I.next,A,g))return!0}while(I=I.next,I!==A);return!1}(A,g)&&(AA(A,g)&&AA(g,A)&&function(A,g){var I=A,C=!1,t=(A.x+g.x)/2,i=(A.y+g.y)/2;for(;I.y>i!=I.next.y>i&&I.next.y!==I.y&&t<(I.next.x-I.x)*(i-I.y)/(I.next.y-I.y)+I.x&&(C=!C),I=I.next,I!==A;);return C}(A,g)&&(Q(A.prev,A,g.prev)||Q(A,g.prev,g))||H(A,g)&&0<Q(A.prev,A,A.next)&&0<Q(g.prev,g,g.next))}(n,s)){var e=gA(n,s);return n=V(n,n.next),e=V(e,e.next),X(n,g,I,C,t,i),X(e,g,I,C,t,i)}s=s.next}}while(n=n.next,n!==A)}(A,g,I,C,t,i):X(V(A),g,I,C,t,i,1);break}}}function K(A,g){return A.x-g.x}function B(A,g,I,C,t){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-I)*t)|A<<8))|A<<4))|A<<2))|A<<1))|(g=1431655765&((g=858993459&((g=252645135&((g=16711935&((g=32767*(g-C)*t)|g<<8))|g<<4))|g<<2))|g<<1))<<1}function _(A,g,I,C,t,i,n,s){return 0<=(t-n)*(g-s)-(A-n)*(i-s)&&0<=(A-n)*(C-s)-(I-n)*(g-s)&&0<=(I-n)*(i-s)-(t-n)*(C-s)}function Q(A,g,I){return(g.y-A.y)*(I.x-g.x)-(g.x-A.x)*(I.y-g.y)}function H(A,g){return A.x===g.x&&A.y===g.y}function J(A,g,I,C){var t=$(Q(A,g,I)),i=$(Q(A,g,C)),n=$(Q(I,C,A)),s=$(Q(I,C,g));return t!==i&&n!==s||(0===t&&q(A,I,g)||(0===i&&q(A,C,g)||(0===n&&q(I,A,C)||!(0!==s||!q(I,g,C)))))}function q(A,g,I){return g.x<=Math.max(A.x,I.x)&&g.x>=Math.min(A.x,I.x)&&g.y<=Math.max(A.y,I.y)&&g.y>=Math.min(A.y,I.y)}function $(A){return 0<A?1:A<0?-1:0}function AA(A,g){return Q(A.prev,A,A.next)<0?0<=Q(A,g,A.next)&&0<=Q(A,A.prev,g):Q(A,g,A.prev)<0||Q(A,A.next,g)<0}function gA(A,g){var I=new tA(A.i,A.x,A.y),C=new tA(g.i,g.x,g.y),t=A.next,i=g.prev;return(A.next=g).prev=A,(I.next=t).prev=I,(C.next=I).prev=C,(i.next=C).prev=i,C}function IA(A,g,I,C){I=new tA(A,g,I);return C?(I.next=C.next,(I.prev=C).next.prev=I,C.next=I):(I.prev=I).next=I,I}function CA(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function tA(A,g,I){this.i=A,this.x=g,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function iA(A){return function(A){if(Array.isArray(A))return nA(A)}(A)||function(A){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(A))return Array.from(A)}(A)||function(A,g){if(A){if("string"==typeof A)return nA(A,g);var I=Object.prototype.toString.call(A).slice(8,-1);return"Map"===(I="Object"===I&&A.constructor?A.constructor.name:I)||"Set"===I?Array.from(A):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?nA(A,g):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(A,g){(null==g||g>A.length)&&(g=A.length);for(var I=0,C=new Array(g);I<g;I++)C[I]=A[I];return C}var sA={area:function(A){for(var g=A.length,I=0,C=g-1,t=0;t<g;C=t++)I+=A[C].x*A[t].y-A[t].x*A[C].y;return.5*I},isClockWise:function(A){return sA.area(A)<0},triangulateShape:function(A,g){var I=[],C=[],t=[];eA(A),hA(I,A);var i=A.length;g.forEach(eA);for(var n=0;n<g.length;n++)C.push(i),i+=g[n].length,hA(I,g[n]);for(var s=W(I,C),e=0;e<s.length;e+=3)t.push(s.slice(e,e+3));return t},triangulate:function(A){(t=[]).push.apply(t,iA(A[0]));for(var g=[],I=1;I<A.length;I++){var C=[];C.push.apply(C,iA(A[I])),g.push(C)}if(!sA.isClockWise(t))for(var t=t.reverse(),i=0,n=g.length;i<n;i++){var s=g[i];sA.isClockWise(s)&&(g[i]=s.reverse())}return sA.triangulateShape(t,g)}};function eA(A){var g,I=A.length;2<I&&(g=A[I-1],I=A[0],g.x===I.x&&g.y===I.y)&&A.pop()}function hA(A,g){for(var I=0;I<g.length;I++)A.push(g[I].x),A.push(g[I].y)}var rA=1e-5,oA=Math.PI/180,aA=180/Math.PI,a=function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)};Object.assign(a.prototype,{eA:function(){return rA},hA:function(){return oA},rA:function(){return aA},oA:function(A){return A<rA&&-rA<A},aA:function(A){return rA<A},uA:function(A){return A<-rA},cA:function(A,g,I){I=(A.x-I.x)*(g.y-I.y)-(g.x-I.x)*(A.y-I.y);return Math.abs(I)<rA?0:I},distanceOfTwoPoints:function(A,g){return A&&g?Math.sqrt((A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y)):Number.NaN},distance:function(A,g){return Math.sqrt(Math.pow(g.x-A.x,2)+Math.pow(g.y-A.y,2))},isPolygonContainPoint:function(A,g){for(var I=0,C=0;C<A.length;C++){var t=A[C].x,i=A[C].y,n=0,s=0,s=C<A.length-1?(n=A[C+1].x,A[C+1].y):(n=A[0].x,A[0].y);if(t===g.x&&i===g.y||n===g.x&&s===g.y)return!0;if(s!==i){var e=t+(g.y-i)*(n-t)/(s-i);if(e===g.x)return!0;t!==n?e<=Math.max(t,n)&&e>=Math.min(t,n)&&e>g.x&&e!==t&&(e===n&&0<(i-g.y)*(s-g.y)?I+=2:I++):e<=Math.max(t,n)&&e>=Math.min(t,n)&&e>g.x&&(e===n&&0<(i-g.y)*(s-g.y)?I+=2:I++)}}return 0<I%2},lA:function(A,g,I,C){return!(Math.max(A.x,g.x)<Math.min(I.x,C.x))&&(!(Math.max(A.y,g.y)<Math.min(I.y,C.y))&&(!(Math.max(I.x,C.x)<Math.min(A.x,g.x))&&!(Math.max(I.y,C.y)<Math.min(A.y,g.y))))},fA:function(A,g,I,C){return!(Math.max(A.x,g.x)<Math.min(I.x,C.x))&&(!(Math.max(A.y,g.y)<Math.min(I.y,C.y))&&(!(Math.max(I.x,C.x)<Math.min(A.x,g.x))&&(!(Math.max(I.y,C.y)<Math.min(A.y,g.y))&&((0!==this.cA(I,g,A)||0!==this.cA(g,C,A))&&(!(this.cA(I,g,A)*this.cA(g,C,A)<0)&&!(this.cA(A,C,I)*this.cA(C,g,I)<0))))))},vA:function(A,g,I){return!(A.x<g.x)&&(!(A.y<g.y)&&(!(A.x>I.x)&&!(A.y>I.y)))},dA:function(A,g,I){var C=Math.min(g.x,I.x),t=Math.max(g.x,I.x),i=Math.min(g.y,I.y),I=Math.max(g.y,I.y);return!(A.x<C||A.x>t||A.y<i||A.y>I)},mA:function(A,g,I){var C=Math.min(I.x,g.x),t=Math.max(I.x,g.x),i=Math.min(I.y,g.y),g=Math.max(I.y,g.y);return!(A.x<C||A.x>t||A.y<i||A.y>g)},MA:function(A,g,I){for(var C,t,i=!1,n=0;n<I;n++)C=g[n],t=g[(n+1)%I],(C.y<A.y&&t.y>=A.y||t.y<A.y&&C.y>=A.y)&&(C.x<=A.x||t.x<=A.x)&&C.x+(A.y-C.y)/(t.y-C.y)*(t.x-C.x)<A.x&&(i=!i);return i},pA:function(A,g,I){return(A.x-g.x)*(I.y-g.y)==(I.x-g.x)*(A.y-g.y)&&Math.min(g.x,I.x)<=A.x&&A.x<=Math.max(g.x,I.x)&&Math.min(g.y,I.y)<=A.y&&A.y<=Math.max(g.y,I.y)},yA:function(A,g){return Math.sqrt((A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y))},bA:function(A,g){return(A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y)},wA:function(A,g,I){var C=g.x,t=g.y,i=I.x,n=I.y,s=A.x,e=A.y,h=i-C,r=n-t,o=h*h+r*r,g=s-C,I=e-t,A=g*g+I*I;if(this.oA(o))return a=this.oA(A)?0:A;var a,o=Math.sqrt(o),h=h/o,r=r/o,I=h*g+r*I;return a=this.aA(I)?this.uA(I-o)?(h=s-(C+I*h))*h+(r=e-(t+I*r))*r:(i=s-i)*i+(n=e-n)*n:A,this.oA(a)?0:a},kA:function(A,g,I,C){var t=g.x,i=g.y,n=I.x,s=I.y,e=A.x,h=A.y,r=n-t,o=s-i,a=Math.sqrt(r*r+o*o),u=e-t,c=h-i,A=Math.sqrt(u*u+c*c);if(this.oA(a))return C.x=g.x,C.y=g.y,this.oA(l=A)?0:l;var r=r/a,o=o/a,c=r*u+o*c,l=this.aA(c)?this.uA(c-a)?(r=e-(t=t+c*r),o=h-(c=i+c*o),o=Math.sqrt(r*r+o*o),C.x=t,C.y=c,o):(n=e-n,s=h-s,s=Math.sqrt(n*n+s*s),C.x=I.x,C.y=I.y,s):(C.x=g.x,C.y=g.y,A);return this.oA(l)?0:l},EA:function(A,g){for(var I=0,C=0,t=0,i=0;i<g;i++){var n=A[i],s=A[(i+1)%g],e=(n.x*s.y-n.y*s.x)/2;I+=e,C+=e*(n.x+s.x)/3,t+=e*(n.y+s.y)/3}return{x:C/=I,y:t/=I}},TA:function(A){for(var g=sA.triangulate([A]),I=0,C=0,t=0,i=0;i<g.length;i++){var n=A[g[i][0]],s=A[g[i][1]],e=A[g[i][2]],h=s.x-n.x,r=s.y-n.y,o=e.x-n.x,r=(h*(e.y-n.y)-o*r)/2;I+=r,C+=(n.x+s.x+e.x)/3*r,t+=(n.y+s.y+e.y)/3*r}return{x:C/I,y:t/I}},xA:function(A,g){if(g<3)return 0;for(var I=0,C=0;C<g;++C){var t=A[C],i=A[(C+1)%g];I+=t.x*i.y-t.y*i.x}return Math.abs(I/2)},RA:function(A,g,I,C,t){if(this.fA(A,g,I,C)){var i=(C.x-I.x)*(A.y-g.y)-(g.x-A.x)*(I.y-C.y),n=(A.y-I.y)*(g.x-A.x)*(C.x-I.x)+I.x*(C.y-I.y)*(g.x-A.x)-A.x*(g.y-A.y)*(C.x-I.x);return t.x=n/i,i=(A.x-g.x)*(C.y-I.y)-(g.y-A.y)*(I.x-C.x),n=g.y*(A.x-g.x)*(C.y-I.y)+(C.x-g.x)*(C.y-I.y)*(A.y-g.y)-C.y*(I.x-C.x)*(g.y-A.y),t.y=n/i,1}return 0},OA:function(A,g,I,C,t){var i=Math.min(I.x,C.x),n=Math.max(I.x,C.x),s=Math.min(I.y,C.y),e=Math.max(I.y,C.y),h=A.x,r=A.y,o=I.x,a=I.y,u=C.x,c=C.y;if(90==g){if(A.x<i||A.x>n)return!1;var l=(c-a)/(u-o)*(h-o)+a;return t.y=l,t.x=h,l<r?!1:!!this.mA(t,I,C)}if(270==g){if(A.x<i||A.x>n)return!1;A=(c-a)/(u-o)*(h-o)+a;return t.y=A,t.x=h,r<A?!1:!!this.mA(t,I,C)}if(270!=g&&90!=g&&n-i<.001){n=i,i=Math.tan(g/180*Math.PI)*(n-h)+r;if(t.y=i,t.x=n,this.mA(t,I,C)){n=n-h,i=i-r;return 0<n/Math.sqrt(n*n+i*i)*Math.cos(g/180*Math.PI)}}if(e-s<=1e-6){e=s,s=1/Math.tan(g/180*Math.PI)*(e-r)+h;if(t.x=s,t.y=e,this.mA(t,I,C)){var s=s-h,f=e-r;return 0<s/Math.sqrt(s*s+f*f)*Math.cos(g/180*Math.PI)}return!1}f=Math.tan(g/180*Math.PI),u=(c-a)/(u-o),u=(a-r-(u*o-f*h))/(f-u),f=r+f*(u-h);if(t.x=u,t.y=f,this.mA(t,I,C)){h=u-h,r=f-r;return 0<h/Math.sqrt(h*h+r*r)*Math.cos(g/180*Math.PI)}return!1},ZA:function(A,g,I,C){var t=A.x,i=A.y,n=g.x,s=g.y,e=I.x,h=I.y;if(t==n&&i==s||t==e&&i==h)return C.x=t,C.y=i,!0;var r=Math.min(g.x,I.x),o=Math.max(g.x,I.x),a=Math.min(g.y,I.y),A=Math.max(g.y,I.y);if(Math.abs(n-e)<1e-5)return C.x=n,a<=(C.y=i)&&i<=A;if(Math.abs(s-h)<1e-5)return C.x=t,C.y=s,r<=t&&t<=o;o=-1/((h-s)/(e-n)),e=(h-s)/(e-n),e=(s-i-(e*n-o*t))/(o-e),t=i+o*(e-t);return C.x=e,C.y=t,!!this.mA(C,g,I)},LA:function(A,g){return{x:A.y*g.z-A.z*g.y,y:A.z*g.x-A.x*g.z,z:A.x*g.y-A.y*g.x}},jA:function(A,g){return A.x*g.x+A.y*g.y+A.z*g.z},DA:function(A){return Math.sqrt(A.x*A.x+A.y*A.y+A.z*A.z)},SA:function(A,g){return A.x*g.x+A.y*g.y},NA:function(A){return Math.sqrt(A.x*A.x+A.y*A.y)},PA:function(A,g){if(0==A.x&&0==A.y||0==g.x&&0==g.y)return 0;var I={x:A.x,y:A.y,z:0},C={x:g.x,y:g.y,z:0},I=this.LA(I,C),C=this.SA(A,g),g=Math.acos(C/(this.NA(A)*this.NA(g)));return 0<I.z?g/Math.PI*180:360-g/Math.PI*180},YA:function(A,g,I,C){for(var t=0;t<I.length;t++){var i=I[t],n=I[(t+1)%I.length];if(1==this.RA(A,g,i,n,C))return!0}return!1},FA:function(A,g,I,C,t){var i=Math.min(A.x,I.x,C.x),n=Math.max(A.x,I.x,C.x),s=Math.min(A.y,I.y,C.y),e=Math.max(A.y,I.y,C.y),e=Math.sqrt((n-i)*(n-i)+(e-s)*(e-s)),s=g/180*Math.PI,g=e*Math.cos(s)+A.x,s=e*Math.sin(s)+A.y;return 1==this.RA(A,{x:g,y:s},I,C,t)}});var uA=new a;function cA(A){return function(A){if(Array.isArray(A))return lA(A)}(A)||function(A){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(A))return Array.from(A)}(A)||function(A,g){if(A){if("string"==typeof A)return lA(A,g);var I=Object.prototype.toString.call(A).slice(8,-1);return"Map"===(I="Object"===I&&A.constructor?A.constructor.name:I)||"Set"===I?Array.from(A):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?lA(A,g):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lA(A,g){(null==g||g>A.length)&&(g=A.length);for(var I=0,C=new Array(g);I<g;I++)C[I]=A[I];return C}function fA(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}E=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.GA=null,this.zA=180/Math.PI,this.WA=[295829355.45,147914677.73,73957338.86,36978669.43,18489334.72,9244667.36,4622333.68,2311166.84,1155583.42,577791.71,288895.85,144447.93,72223.96,36111.98,18056,9028,4514,2257,1128,564,282,141,70,35,17,8,4,2,1],this.A=null,this.UA=null,this.VA=5,this.XA=!0,this.KA=.2,this.BA=!1,this._A=!0,this.QA=!1,this.HA=1.2,this.JA=80,this.qA=30,this.$A=21,this.Ag=!0,this.gg=22,this.Ig=1.3,this.Cg="",this.tg=100,this.ig=3,this.ng=1,this.sg=6,this.eg=10,this.hg=5,this.rg=0,this.og=!1,this.ag=!1,this.ug=!1,this.cg=!1,this.lg=0,this.fg=0,this.vg=0,this.dg=null,this.mg=null,this.Mg=!1,this.pg=null,this.yg=null,this.bg=!1,this.wg=0,this.kg=fengmap.FMLanguageType.ZH,this.Eg=fengmap.FMNaviMode.MODULE_SHORTEST,this.Tg=fengmap.FMNaviPriority.PRIORITY_DEFAULT,this.xg=!1,this.Rg=!0,this.Og=[],this.Zg={radius:.5,dash:{size:4,gap:2}},this.Lg=!0,this.jg=0,this.Dg=new R,this.Sg=new T,this.Ng(A),this.a()}var A,I,C;return A=g,(I=[{key:"locationMarker",get:function(){return this.Pg},set:function(A){this.Pg=A}},{key:"naviResult",get:function(){return this.Yg}},{key:"followPosition",get:function(){return this.XA},set:function(A){this.XA=A}},{key:"on",value:function(A,g){this.Sg.K(A,g)}},{key:"off",value:function(A,g){this.Sg.Q(A,g)}},{key:"dispose",value:function(){this.stop(),this.A=null,this.UA&&(this.UA.dispose(),this.UA=null)}},{key:"setLanguage",value:function(A){this.kg!=A&&(this.kg=A,this.Fg())}},{key:"setObstructions",value:function(A){this.UA.setObstructions(A)}},{key:"setStartPoint",value:function(A,g){this.Gg=Object.assign({},this.Gg,A,{x:A.x,y:A.y,level:A.level,height:"number"==typeof A.height?A.height:this.sg});var I=null;return I=A.url&&!g?this.zg(this.Gg,!0):I}},{key:"setDestPoint",value:function(A,g){this.Wg=Object.assign({},this.Wg,A,{x:A.x,y:A.y,level:A.level,height:"number"==typeof A.height?A.height:this.sg});var I=null;return I=A.url&&!g?this.zg(A,!1):I}},{key:"route",value:function(A,g,I){this.GA=null,this.Ng(A),this.Ug({mode:this.Eg,priority:this.Tg,toDoors:this.xg,obstruct:this.Rg,viapoints:this.Og},g,I)}},{key:"naviConstraint",value:function(A){if(this.Gg&&this.Wg){var g={index:-1,coords:{level:A.level},angle:null,distance:Number.MAX_VALUE,distanceToNext:Number.MAX_VALUE,remain:this.Vg},I=this.Xg(),C=I.map(function(A){return{x:A.x,y:A.z,z:0,level:A.level,index:A.Kg}}),t=this.Bg(I).map(function(A){return{x:A.x,y:A.z,z:0,level:A.level,index:A.Kg}}),i=-1,n=null;if(this._g){if(!(n=this.UA.getNaviGraph(A.level)))return;i=n.queryContainExtentID(A)}for(var s={},e=[],h=Number.MAX_VALUE,r=1;r<t.length;r++){var o,a,u=t[r-1],c=t[r],l=this.Qg[u.index].endPoint;u.level===A.level&&c.level===A.level&&(n&&i!==n.queryContainExtentID(u)||(o=uA.kA(A,u,c,s))<=h&&(a={index:-1,coords:{level:A.level},angle:null,distance:Number.MAX_VALUE,distanceToNext:Number.MAX_VALUE,remain:this.Vg,relDirection:1},null!=this.GA&&(A.x-this.GA.x)*(c.x-u.x)+(A.y-this.GA.y)*(c.y-u.y)<0&&(a.relDirection=-1),a.distance=o,Object.assign(a.coords,s),a.angle=this.Hg(u,c),a.index=u.index,a.distanceToNext=uA.yA(s,l),e.push(a),h=o))}for(var f=[],v=0;v<e.length;)e[v].distance==h&&f.push(e[v]),v+=1;if(1<f.length){for(var d=0;d<f.length;d++)if(0<=f[d].relDirection){g=f[d];break}-1===g.index&&(g=f[0])}else 1==f.length&&(g=f[0]);if(-1===g.index)for(var m=0;m<t.length;m++){var M,p=t[m];p.level!==A.level||i!==n.queryContainExtentID(p)||(M=uA.yA(A,p))<g.distance&&(g.distance=M,Object.assign(g.coords,p),g.index=p.index,g.distanceToNext=0,C[p.index+1]&&t[p.index+1].level===A.level&&(g.distanceToNext=uA.yA(A,C[p.index+1])))}if(-1!==g.index){for(var y,b,w=0,k=C.length-1;k>g.index;k--)k-1>g.index&&(y=C[k],b=C[k-1],y.level===b.level&&(w+=uA.yA(y,b)));C[g.index+1]&&C[g.index+1].level===g.coords.level&&(w+=uA.yA(C[g.index+1],g.coords)),g.remain=w}return g}}},{key:"pathConstraint",value:function(A,g){return this.UA?this.UA.pathConstraint(A,g):null}},{key:"locate",value:function(A,g){this.ag&&this.stop(),A.level!==this.Jg&&(this.Jg=A.level),this.qg(A,g),this.GA=A}},{key:"locateNoConstraint",value:function(A,g){this.ag&&this.stop(),A.level!==this.Jg&&(this.Jg=A.level),this.$g(A,g),this.GA=A}},{key:"clearLocationMarker",value:function(){this.Pg&&(this.Pg.remove(),this.Pg=null)}},{key:"clearMarkers",value:function(){this.AI&&(this.AI.remove(),this.AI=null,this.Gg=null),this.gI&&(this.gI.remove(),this.gI=null,this.Wg=null)}},{key:"drawNaviLine",value:function(A){if(this.Gg&&this.Wg)return this.II=this.CI(this.tI,A),this.II}},{key:"clearNaviLine",value:function(){this.II&&(this.II.remove(),this.II=null)}},{key:"clearAll",value:function(){this.clearMarkers(),this.clearNaviLine(),this.clearLocationMarker()}},{key:"overview",value:function(A,g){var I,C;0!==this.tI.length&&(I=new z,C=[Number.MAX_VALUE,-Number.MAX_VALUE],this.tI.forEach(function(A){A.level<C[0]&&(C[0]=A.level),A.level>C[1]&&(C[1]=A.level),I.sA(A.pointList)}),this.iI(A,I,C,g))}},{key:"focusNaviLineSegment",value:function(A,g,I){var C;0==this.Qg.length||(C=this.Qg[A])&&((A=new z).sA([C.startPoint,C.endPoint]),C=[Math.min(C.startLevel,C.endLevel),Math.max(C.startLevel,C.endLevel)],this.iI(g,A,C,I))}},{key:"simulate",value:function(A){var g,I,C=this;this.Gg&&this.Wg&&0!==this.tI.length&&(this.Ng(A),this.Mg=!(g={}),this.pg=this.A.getRotation(),I=g.HA||this.HA,g.$A=g.$A||this.$A||0,this.nI(),this.Pg.rotateTo({heading:-this.pg}),this.XA?this.sI=this.eI(this.Gg.level,I,function(){C.hI=C.rI(C.Gg,I,function(){var A=g.$A>C.gg?C.gg:g.$A;C.Ag?C.oI=C.aI(C.JA,I,function(){C.uI=C.cI(A,I,function(){C.lI()})}):C.uI=C.cI(A,I,function(){C.lI()})})}):this.lI())}},{key:"pause",value:function(){this.oI&&this.oI.pause(),this.uI&&this.uI.pause(),this.hI&&this.hI.pause(),this.sI&&this.sI.pause(),this.cg=!0}},{key:"resume",value:function(){this.oI&&this.oI.resume(),this.uI&&this.uI.resume(),this.hI&&this.hI.resume(),this.sI&&this.sI.resume(),this.cg=!1}},{key:"stop",value:function(){this.og=!0,this.Dg.stop(),this.oI&&(this.A.removeAnimator(this.oI),this.oI=null),this.uI&&(this.A.removeAnimator(this.uI),this.uI=null),this.hI&&(this.A.removeAnimator(this.hI),this.hI=null),this.sI&&(this.A.removeAnimator(this.sI),this.sI=null),this.fI&&this.A.off("update",this.fI),this.cg=!1,this.mg=null,this.yg=null,this.fg=0,this.Mg=!1,this.wg=0,this.bg=!1,this.fI=null,this.ag=!1,this.ug=!1,this.lg=0,this.dg=null}}])&&fA(A.prototype,I),C&&fA(A,C),g}();Object.assign(E.prototype,{Ng:function(A){A&&(void 0!==A.map&&(this.A=A.map),void 0!==A.analyser&&(this.UA=A.analyser),void 0!==A.speed&&(this.VA=A.speed),void 0!==A.followSpeed&&(this.KA=A.followSpeed),void 0!==A.followPosition&&(this.XA=A.followPosition),void 0!==A.followAngle&&(this.BA=A.followAngle),void 0!==A.locationMarkerFollowAngle&&(this._A=A.locationMarkerFollowAngle),void 0!==A.isMultiLevels&&(this.QA=A.isMultiLevels),void 0!==A.inTime&&(this.HA=A.inTime),void 0!==A.tiltAngle&&(this.JA=A.tiltAngle),void 0!==A.changeFloorTiltAngle&&(this.qA=A.changeFloorTiltAngle),void 0!==A.changeTiltAngle&&(this.Ag=A.changeTiltAngle),void 0!==A.zoom&&(this.$A=A.zoom),void 0!==A.maxZoom&&(this.gg=A.maxZoom),void 0!==A.extendScale&&(this.Ig=A.extendScale),void 0!==A.locationMarkerUrl&&(this.Cg=A.locationMarkerUrl),void 0!==A.locationMarkerSize&&(this.tg=A.locationMarkerSize),void 0!==A.locationMarkerHeight&&(this.ig=A.locationMarkerHeight),void 0!==A.lineMarkerHeight&&(this.ng=A.lineMarkerHeight),void 0!==A.imageMarkerHeight&&(this.sg=A.imageMarkerHeight),void 0!==A.directionAssert&&(this.eg=A.directionAssert),void 0!==A.combineAsset&&(this.hg=A.combineAsset),void 0!==A.completeDistance&&(this.rg=A.completeDistance),void 0!==A.kg&&(this.eg=A.directionAssert),void 0!==A.mode&&(this.Eg=A.mode),void 0!==A.priority&&(this.Tg=A.priority),void 0!==A.toDoors&&(this.xg=A.toDoors),void 0!==A.obstruct&&(this.Rg=A.obstruct),void 0!==A.viapoints&&(this.Og=A.viapoints),void 0!==A.lineStyle&&Object.assign(this.Zg,A.lineStyle),void 0!==A.linePassed&&(this.Lg=A.linePassed))},a:function(){this._g=void 0!==fengmap.FMNaviAnalyser&&this.UA instanceof fengmap.FMNaviAnalyser,this.Gg=null,this.Wg=null,this.AI=null,this.gI=null,this.Pg=null,this.Yg=null,this.tI=[],this.vI=[],this.Qg=[],this.Vg=0,this.dI=[],this.Jg=null,this.fI=null,this.oI=null,this.uI=null,this.hI=null,this.sI=null},nI:function(){this.Pg instanceof fengmap.FMLocationMarker?this.Pg.moveTo({level:this.Gg.level,x:this.Gg.x,y:this.Gg.y}):this.Pg=new fengmap.FMLocationMarker({id:"location",level:this.Gg.level,x:this.Gg.x,y:this.Gg.y,url:this.Cg||"",size:this.tg}),this.Pg.addTo(this.A)},mI:function(A){for(var g,I=arguments.length<=1?0:arguments.length-1,C=0;C<I;C++){var t=C+1<1||arguments.length<=C+1?void 0:arguments[C+1];if(A[t])return A[t]}return(g=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=g?void 0:arguments[g]},MI:function(A){if(this.Gg&&this.Wg)return A==this.Gg.level||A==this.pI.level},zg:function(A,g){if(A.level){var I=A.url||(g?"image/small/marker/nav_location_start.png":"image/small/marker/nav_location_dest.png"),C=g?this.AI:this.gI;C&&C.remove();var t=this.A.getFloor(A.level);if(t)return(C=new fengmap.FMImageMarker(Object.assign({map:this.A,url:I,callback:function(){A.callback&&A.callback(C)},anchor:fengmap.FMMarkerAnchor.BOTTOM,depth:!1,collision:!1},A))).addTo(t),g?this.AI=C:this.gI=C,C}},yI:function(){for(var A=this.tI,g=[],I=null,C=null,t=0;t<A.length;t++){var i=A[t],n=I==i.level;0==i.length&&0!=t&&t!=A.length-1||(n||(I=i.level,C&&g.push(C),C={level:i.level,pointList:[]}),C.pointList=C.pointList.concat(i.pointList))}return C&&g.push(C),this.bI=g},wI:function(A){for(var g=0;g<A.length-1;g++){var I,C,t=A[g];t.length&&(I=t.pointList[t.pointList.length-1],C=A[g+1].pointList[0],.2<uA.yA(I,C)&&t.pointList.push(Object.assign({},C)))}},Ug:function(A,g,I){var C=this;this.Gg&&this.Wg&&(A=Object.assign({start:this.Gg,dest:this.Wg},A),this.kI(A,function(A){C.Yg=A,C.EI(),C.wI(C.tI),C.yI(),C.Fg(),g&&g(A)},function(A){I&&I(A)}))},EI:function(){if(this.Yg){this.tI=[];for(var A=Number.NaN,g=null,I=0;I<this.Yg.subs.length;I++){var C,t=this.Yg.subs[I];A!=t.levels[0]&&((g={length:0,level:t.levels[0],pointList:[]}).pointList.push(t.waypoint.points[0]),this.tI.push(g),A=t.levels[0]),t.levels[0]==t.levels[1]?((C=g.pointList).push.apply(C,cA(t.waypoint.points.slice(1))),g.length+=t.distance):(g={length:0,level:t.levels[0],pointList:[t.waypoint.points[0]]},this.tI.push(g),g={length:0,level:t.levels[1],pointList:[t.waypoint.points[1]]},this.tI.push(g))}}},Fg:function(){if(this.Yg){this.vI=[],this.Qg=[],this.dI=[],this.Vg=0;for(var A=this.kg,g=this.Yg.subs,I=0,C=null,t=0;t<g.length;t++){var i=g[t],n=i.waypoint.points,s=i.waypoint.direction[A];this.vI.push(i.instruction[A]);s={startDirection:s[0],startIndex:void 0,startLevel:i.levels[0],startPoint:n[0],endDirection:s[1],endIndex:void 0,endLevel:i.levels[1],endPoint:n.slice(-1)[0],distance:i.distance};i.levels[0]==i.levels[1]?(s.startIndex=I,I+=n.length-1,s.endIndex=I):I=0,this.Qg.push(s),null!=C&&i.levels[0]==i.levels[1]||(C={level:i.levels[1],distance:0},this.dI.push(C)),C.distance+=i.distance}this.Vg=this.Yg.distance}},CI:function(i,A){if(0===i.length)return null;var g=Object.assign({},this.Zg);A&&A.style&&Object.assign(g,A.style);for(var n=A&&A.height?A.height:this.ng,s=[],I=0;I<i.length;I++)(function(A){var g=i[A],I=g.pointList;if(0===I.length)return;var A=g.level,C=[];I.forEach(function(A){var g=parseFloat(""+A.x),A=parseFloat(""+A.y);C.push({x:g,y:A,z:n})}),I.length<2&&(g=parseFloat(""+I[0].x),t=parseFloat(""+I[0].y),C.push({x:g,y:t,z:n}));var t=new fengmap.FMSegment;t.level=A,t.points=C,s.push(t)})(I);g=new fengmap.FMLineMarker(Object.assign({segments:s},g));return g.passed=A&&A.passed?A.passed:this.Lg,g.addTo(this.A),g},kI:function(A,g,I){var C=this;this.UA.route(A,function(A){C.xg&&A.door&&(C.Wg.x=A.door.x,C.Wg.y=A.door.y),g&&g(A)},function(A){I&&I(A)})},rI:function(A,g,I){return this.A.setCenter({x:A.x,y:A.y,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},aI:function(A,g,I){return this.A.setTilt({tilt:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},TI:function(A,g,I){return this.A.setRotation({rotation:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},cI:function(A,g,I){return this.A.setZoom({zoom:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I},!0)},eI:function(A,g,I){return this.A.setVisibleLevels([A]),this.A.getLevel()==A?(I&&I(),null):this.A.setLevel({level:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},Bg:function(A){var g=this.tI;if(0===g.length)return[];for(var I=[],C=0,t=0;t<g.length;t++){var i=g[t];if(!(i.pointList.length<=1))for(var n=i.level,s=0;s<i.pointList.length;s++){var e=i.pointList[s],e=new P(e.x,0,e.y);e.level=n;for(var h=-1,r=1;r<A.length;r++)if(C<A[r].xI){h=A[r-1].Kg;break}e.Kg=-1!==h?h:A[A.length-1].Kg,I.push(e),C++}}return I},RI:function(A,g){if(0===g)return A[0];for(var I,C=0,t=0,i=A[0],n=1;n<A.length;n++)if((I=A[n]).level===i.level){if(g<=(C+=(s=I.clone().sub(i)).length())){s.normalize();var s=i.clone().add(s.clone().multiplyScalar(g-t));return s.level=I.level,s.index=I.Kg,s}(i=I.clone()).level=I.level,i.index=I.Kg,t=C}else i=I;var e=A[A.length-1];return e.index=e.Kg,e},Xg:function(){if(!this.Gg||!this.Wg||!this.Qg||0===this.Qg.length)return[];var C=-1,t=0,i=-1,A=this.Qg.map(function(A,g){var I=new P(A.startPoint.x,0,A.startPoint.y);return I.level=A.startLevel,I.Kg=g,C=g,A.startLevel!==A.endLevel?(t+=i,I.xI=t,t++):I.xI=A.startIndex+t,i=A.endIndex,I}),g=this.Qg[this.Qg.length-1],I=new P(g.endPoint.x,0,g.endPoint.y);return I.level=g.endLevel,I.Kg=C+1,I.xI=g.endIndex+t,A.push(I),A},OI:function(A,g){var I=this,C={},t=C.HA||this.HA;C.$A=C.$A||this.$A||0;var i=C.$A>this.gg?this.gg:C.$A;this.QA||(C={x:this.Pg.x,y:this.Pg.y,height:this.Pg.height,level:A.level},(A=this.bI[this.lg])&&A.pointList&&0<A.pointList.length&&(C=Object.assign(C,A.pointList[0])),this.Pg.moveTo(C),this.Pg.visible=!0),this.Ag&&(this.oI=this.aI(this.JA,t,null)),this.hI=this.rI(g,t,function(){I.uI=I.cI(i,t,function(){I.bg=!1})})},Hg:function(A,g){var I=new P(0,0,1),A=new P(A.x,0,A.y),g=new P(g.x,0,g.y).clone().sub(A).normalize(),A=g.angleTo(I)*uA.rA();return 0<g.clone().cross(I).y?360-A:A},ZI:function(A,g,I){return A===g?A:(180<Math.abs(g-A)&&(A<g?A+=360:g+=360),(A*(1-I)+g*I)%360)},LI:function(A,g,I){var C=this.WA,t=Math.floor(g),i=C[t-1]*(1-g%1)+C[t]*(g%1);for(i*=I,t=0;i<C[t];)t++;return t+1-(i-C[t])/(C[t-1]-C[t])},jI:function(A){var g,I,C,t,i,n,s=this;this.og||requestAnimationFrame(this.jI.bind(this,A)),this.ug||(A.cnt++,A.cnt===A.step&&(A.cnt=0,C=this.Dg.getDelta(),this.bg||this.cg||(this.fg+=this.VA*C,this.fg<=0||(g=Object.assign({},this.RI(A.ps,this.fg)),I=this.Vg-this.fg,C=g.y,g.y=g.z,g.z=C,this.dg={distance:0,remain:I<this.vg?this.vg:I,walk:this.fg,point:g,level:g.level,index:g.index-1},null!=this.mg&&(this.yg=this.Hg(this.mg,g)),this.mg=Object.assign({},g),!g||I<this.vg&&this.Mg?this.ug=!0:(I<this.vg&&!this.Mg&&(this.Mg=!0),this.wg||(this.wg=A.ps[0].level),this.ag&&this.wg!==g.level&&(this.wg=g.level,this.lg++,t={x:g.x,y:g.y,level:g.level},this.XA&&(i=(A={}).HA||this.HA,A.$A=A.$A||this.$A||0,n=A.$A>this.gg?this.gg:A.$A,this.bg=!0,this.Ag&&(this.oI=this.aI(this.qA,i,null)),this.QA||(this.Pg.visible=!1),this.sI=this.eI(t.level,i,function(){s.uI=s.cI(n,i,function(){s.locationMarker.moveTo({x:t.x,y:t.y,height:s.ig,level:t.level}),s.rI(t,i,function(){s.Ag?s.oI=s.aI(s.JA,i,function(){s.OI(g,t)}):s.OI(g,t)})})})),this.Sg.H({type:"transit",level:g.level})))))))},DI:function(){this.og=!1;var A=this.Bg(this.Xg());this.Dg.start(),this.ag=!0,this.ug=!1,this.lg=0,this.jI({step:2,cnt:0,ps:A})},SI:function(){if(!this.bg&&!this.cg){if(this.mg){var A=new P(this.Pg.x,this.Pg.y,0).lerp(this.mg,this.Mg?1:this.KA);A.level=this.mg.level,this.Pg.moveTo({x:A.x,y:A.y,height:this.ig,level:A.level});var g=this.naviConstraint(A);if(this.II&&(this.II.passed?this.II.moveProportion(1-g.remain/this.Vg):this.II.moveProportion(0)),this.Sg.H(Object.assign({},this.dg,{type:"walking",distance:g.distance,remain:g.remain,walk:this.Vg-g.remain,distanceToNext:g.distanceToNext,angle:g.angle,point:g.coords,level:A.level,index:g.index,isReal:!1})),this.XA?this.hI=this.rI(A):this.A.updateCountDown_=0,this.ug)return this.stop(),void this.Sg.H({type:"complete"})}null!=this.yg&&(A=this.ZI(this.pg,this.yg,this.KA),this.pg=A,this.Pg.rotateTo({heading:-A}),this.BA&&this.TI(A))}},lI:function(){this.DI(),this.fI=this.SI.bind(this),this.A.on("update",this.fI)},qg:function(A,g){var I=this.naviConstraint(A);I&&(this.II&&(this.II.passed?this.II.moveProportion(1-I.remain/this.Vg):this.II.moveProportion(0)),A={type:"walking",distance:I.distance,remain:I.remain,walk:this.Vg-I.remain,distanceToNext:I.distanceToNext,angle:I.angle,point:I.coords,level:A.level,index:I.index,isReal:!0},this.Sg.H(A),this.Pg&&(I.coords.height=this.ig,this.Pg.moveTo(I.coords),void 0!==g?this.Pg.rotateTo({heading:g}):this.Pg.rotateTo({heading:-I.angle})))},$g:function(A,g){var I=this.naviConstraint(A);I&&(this.Sg.H({type:"walking",distance:I.distance,remain:I.remain,walk:this.Vg-I.remain,distanceToNext:I.distanceToNext,angle:I.angle,point:I.coords,level:A.level,index:I.index,isReal:!0}),this.Pg&&(A.height=this.ig,this.Pg.moveTo(A),void 0!==g?this.Pg.rotateTo({heading:g}):this.Pg.rotateTo({heading:-I.angle})))},NI:function(A,g){var I=[];I.push({x:A.min.x,y:A.min.y}),I.push({x:A.min.x,y:A.max.y}),I.push({x:A.max.x,y:A.max.y}),I.push({x:A.max.x,y:A.min.y});for(var C=new z,t=0;t<g.length;t++){var i=0;t===g.length-1&&(i=this.ng+2*this.Zg.radius);for(var n=0;n<I.length;n++){var s=fengmap.FMUtil.coordsMapToScreen(this.A,{x:I[n].x,y:I[n].y,level:g[t],height:i});C.sA([s])}}return C},YI:function(A,g,I){g=this.NI(g,I).size,I=A.getContainer().clientHeight,A=A.getContainer().clientWidth;return A/I>g.x/g.y?g.y/I:g.x/A},FI:function(A,g){for(var I=this.NI(A,g),C=[],t=0;t<g.length;t++){var i=map.getFloorSpace()*g[t];t===g.length-1&&(i+=this.ng+2*this.Zg.radius),C.push(fengmap.FMUtil.coordsScreenToMap(this.A,{x:(I.max.x+I.min.x)/2,y:(I.max.y+I.min.y)/2,z:i}))}for(var n=new P,s=0;s<C.length;s++)n.add(C[s]);return n.divideScalar(C.length),n},GI:function(g,I,C,t,i,n){var s=this,A=this.YI(this.A,g,I),e=this.LI(this.A,this.A.getZoom(),A*(C||1));this.A.setZoom({zoom:e,animate:!1,finish:function(){var A=s.FI(g,I);s.A.setCenter({animate:!1,x:A.x,y:A.y,finish:function(){++i===t?n&&n({zoom:e,center:A}):s.GI(g,I,C,t,i,n)}})}})},iI:function(A,i,n,s){for(var e=this,h=A&&void 0!==A.ratio?A.ratio:1,r=!A||void 0===A.animate||A.animate,g=A&&void 0!==A.rotation?A.rotation:0,I=A&&void 0!==A.tilt?A.tilt:30,C=[],t=n[0];t<=n[1];)C.push(t),t++;var o=C[Math.floor((C.length-1)/2)];this.A.setVisibleLevels(C);A=C.length%2==0?this.A.getFloorSpace()/2:0;A-=this.jg,this.jg+=A,this.A.getInteracations().controls.panAdd({x:0,y:A,z:0}),this.A.setLevel({level:o,animate:r,finish:function(){e.A.setTilt({tilt:I,animate:r,finish:function(){e.A.setRotation({rotation:g,animate:r,finish:function(){var g=e.A.getInteracations(),A=e.A.copyCamera(),I=g.copyControls(A),C=g.controls,t=e.A.camera;g.controls=I,e.A.camera=A,e.GI(i,n,h,5,0,function(A){g.controls=C,e.A.camera=t,I.dispose(),I=null,e.A.enableUpdateRender(),e.A.setZoom({animate:r,zoom:A.zoom,duration:.5}),e.A.setCenter({animate:r,x:A.center.x,y:A.center.y,duration:.5,finish:function(){s&&s()}})})}})}})}})}});I=E;function vA(A,g,I,C){this.J=A||0,this.q=g||0,this.$=I||0,this.AA=void 0!==C?C:1}Object.assign(vA,{slerp:function(A,g,I,C){return I.copy(A).slerp(g,C)},slerpFlat:function(A,g,I,C,t,i,n){var s=I[C+0],e=I[C+1],h=I[C+2],r=I[C+3],o=t[i+0],a=t[i+1],u=t[i+2],c=t[i+3];r===c&&s===o&&e===a&&h===u||(I=1-n,t=0<=(C=s*o+e*a+h*u+r*c)?1:-1,(i=1-C*C)>Number.EPSILON&&(i=Math.sqrt(i),C=Math.atan2(i,C*t),I=Math.sin(I*C)/i,n=Math.sin(n*C)/i),s=s*I+o*(t=n*t),e=e*I+a*t,h=h*I+u*t,r=r*I+c*t,I===1-n&&(s*=n=1/Math.sqrt(s*s+e*e+h*h+r*r),e*=n,h*=n,r*=n)),A[g]=s,A[g+1]=e,A[g+2]=h,A[g+3]=r}}),Object.defineProperties(vA.prototype,{x:{get:function(){return this.J},set:function(A){this.J=A,this.gA()}},y:{get:function(){return this.q},set:function(A){this.q=A,this.gA()}},z:{get:function(){return this.$},set:function(A){this.$=A,this.gA()}},w:{get:function(){return this.AA},set:function(A){this.AA=A,this.gA()}}}),Object.assign(vA.prototype,{isQuaternion:!0,set:function(A,g,I,C){return this.J=A,this.q=g,this.$=I,this.AA=C,this.gA(),this},clone:function(){return new this.constructor(this.J,this.q,this.$,this.AA)},copy:function(A){return this.J=A.x,this.q=A.y,this.$=A.z,this.AA=A.w,this.gA(),this},setFromEuler:function(A,g){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var I=A.J,C=A.q,t=A.$,i=A.order,n=Math.cos,s=Math.sin,e=n(I/2),A=n(C/2),n=n(t/2),I=s(I/2),C=s(C/2),t=s(t/2);return"XYZ"===i?(this.J=I*A*n+e*C*t,this.q=e*C*n-I*A*t,this.$=e*A*t+I*C*n,this.AA=e*A*n-I*C*t):"YXZ"===i?(this.J=I*A*n+e*C*t,this.q=e*C*n-I*A*t,this.$=e*A*t-I*C*n,this.AA=e*A*n+I*C*t):"ZXY"===i?(this.J=I*A*n-e*C*t,this.q=e*C*n+I*A*t,this.$=e*A*t+I*C*n,this.AA=e*A*n-I*C*t):"ZYX"===i?(this.J=I*A*n-e*C*t,this.q=e*C*n+I*A*t,this.$=e*A*t-I*C*n,this.AA=e*A*n+I*C*t):"YZX"===i?(this.J=I*A*n+e*C*t,this.q=e*C*n+I*A*t,this.$=e*A*t-I*C*n,this.AA=e*A*n-I*C*t):"XZY"===i&&(this.J=I*A*n-e*C*t,this.q=e*C*n-I*A*t,this.$=e*A*t+I*C*n,this.AA=e*A*n+I*C*t),!1!==g&&this.gA(),this},setFromAxisAngle:function(A,g){var I=g/2,g=Math.sin(I);return this.J=A.x*g,this.q=A.y*g,this.$=A.z*g,this.AA=Math.cos(I),this.gA(),this},setFromRotationMatrix:function(A){var g,I=A.elements,C=I[0],t=I[4],i=I[8],n=I[1],s=I[5],e=I[9],h=I[2],r=I[6],A=I[10],I=C+s+A;return 0<I?(g=.5/Math.sqrt(I+1),this.AA=.25/g,this.J=(r-e)*g,this.q=(i-h)*g,this.$=(n-t)*g):s<C&&A<C?(g=2*Math.sqrt(1+C-s-A),this.AA=(r-e)/g,this.J=.25*g,this.q=(t+n)/g,this.$=(i+h)/g):A<s?(g=2*Math.sqrt(1+s-C-A),this.AA=(i-h)/g,this.J=(t+n)/g,this.q=.25*g,this.$=(e+r)/g):(g=2*Math.sqrt(1+A-C-s),this.AA=(n-t)/g,this.J=(i+h)/g,this.q=(e+r)/g,this.$=.25*g),this.gA(),this},setFromUnitVectors:function(A,g){var I=A.dot(g)+1;return I<1e-6?(I=0,Math.abs(A.x)>Math.abs(A.z)?(this.J=-A.y,this.q=A.x,this.$=0):(this.J=0,this.q=-A.z,this.$=A.y)):(this.J=A.y*g.z-A.z*g.y,this.q=A.z*g.x-A.x*g.z,this.$=A.x*g.y-A.y*g.x),this.AA=I,this.normalize()},angleTo:function(A){return 2*Math.acos(Math.abs(M.clamp(this.dot(A),-1,1)))},rotateTowards:function(A,g){var I=this.angleTo(A);if(0===I)return this;I=Math.min(1,g/I);return this.slerp(A,I),this},inverse:function(){return this.conjugate()},conjugate:function(){return this.J*=-1,this.q*=-1,this.$*=-1,this.gA(),this},dot:function(A){return this.J*A.J+this.q*A.q+this.$*A.$+this.AA*A.AA},lengthSq:function(){return this.J*this.J+this.q*this.q+this.$*this.$+this.AA*this.AA},length:function(){return Math.sqrt(this.J*this.J+this.q*this.q+this.$*this.$+this.AA*this.AA)},normalize:function(){var A=this.length();return 0===A?(this.J=0,this.q=0,this.$=0,this.AA=1):(this.J=this.J*(A=1/A),this.q=this.q*A,this.$=this.$*A,this.AA=this.AA*A),this.gA(),this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,g)):this.multiplyQuaternions(this,A)},premultiply:function(A){return this.multiplyQuaternions(A,this)},multiplyQuaternions:function(A,g){var I=A.J,C=A.q,t=A.$,i=A.AA,n=g.J,s=g.q,A=g.$,g=g.AA;return this.J=I*g+i*n+C*A-t*s,this.q=C*g+i*s+t*n-I*A,this.$=t*g+i*A+I*s-C*n,this.AA=i*g-I*n-C*s-t*A,this.gA(),this},slerp:function(A,g){if(0===g)return this;if(1===g)return this.copy(A);var I=this.J,C=this.q,t=this.$,i=this.AA,n=i*A.AA+I*A.J+C*A.q+t*A.$;if(n<0?(this.AA=-A.AA,this.J=-A.J,this.q=-A.q,this.$=-A.$,n=-n):this.copy(A),1<=n)return this.AA=i,this.J=I,this.q=C,this.$=t,this;A=1-n*n;if(A<=Number.EPSILON){var s=1-g;return this.AA=s*i+g*this.AA,this.J=s*I+g*this.J,this.q=s*C+g*this.q,this.$=s*t+g*this.$,this.normalize(),this.gA(),this}s=Math.sqrt(A),A=Math.atan2(s,n),n=Math.sin((1-g)*A)/s,s=Math.sin(g*A)/s;return this.AA=i*n+this.AA*s,this.J=I*n+this.J*s,this.q=C*n+this.q*s,this.$=t*n+this.$*s,this.gA(),this},equals:function(A){return A.J===this.J&&A.q===this.q&&A.$===this.$&&A.AA===this.AA},fromArray:function(A,g){return this.J=A[g=void 0===g?0:g],this.q=A[g+1],this.$=A[g+2],this.AA=A[g+3],this.gA(),this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.J,A[g+1]=this.q,A[g+2]=this.$,A[g+3]=this.AA,A},fromBufferAttribute:function(A,g){return this.J=A.getX(g),this.q=A.getY(g),this.$=A.getZ(g),this.AA=A.getW(g),this},zI:function(A){return this.gA=A,this},gA:function(){}});var dA=new MA,mA=new vA;function MA(A,g,I){this.x=A||0,this.y=g||0,this.z=I||0}Object.assign(MA.prototype,{isVector3:!0,set:function(A,g,I){return this.x=A,this.y=g,this.z=I,this},setScalar:function(A){return this.x=A,this.y=A,this.z=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setZ:function(A){return this.z=A,this},setComponent:function(A,g){switch(A){case 0:this.x=g;break;case 1:this.y=g;break;case 2:this.z=g;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this},add:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,g)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)},addScalar:function(A){return this.x+=A,this.y+=A,this.z+=A,this},addVectors:function(A,g){return this.x=A.x+g.x,this.y=A.y+g.y,this.z=A.z+g.z,this},addScaledVector:function(A,g){return this.x+=A.x*g,this.y+=A.y*g,this.z+=A.z*g,this},sub:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,g)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)},subScalar:function(A){return this.x-=A,this.y-=A,this.z-=A,this},subVectors:function(A,g){return this.x=A.x-g.x,this.y=A.y-g.y,this.z=A.z-g.z,this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,g)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)},multiplyScalar:function(A){return this.x*=A,this.y*=A,this.z*=A,this},multiplyVectors:function(A,g){return this.x=A.x*g.x,this.y=A.y*g.y,this.z=A.z*g.z,this},applyEuler:function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(mA.setFromEuler(A))},applyAxisAngle:function(A,g){return this.applyQuaternion(mA.setFromAxisAngle(A,g))},applyMatrix3:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[3]*I+A[6]*C,this.y=A[1]*g+A[4]*I+A[7]*C,this.z=A[2]*g+A[5]*I+A[8]*C,this},applyNormalMatrix:function(A){return this.applyMatrix3(A).normalize()},applyMatrix4:function(A){var g=this.x,I=this.y,C=this.z,t=A.elements,A=1/(t[3]*g+t[7]*I+t[11]*C+t[15]);return this.x=(t[0]*g+t[4]*I+t[8]*C+t[12])*A,this.y=(t[1]*g+t[5]*I+t[9]*C+t[13])*A,this.z=(t[2]*g+t[6]*I+t[10]*C+t[14])*A,this},applyQuaternion:function(A){var g=this.x,I=this.y,C=this.z,t=A.x,i=A.y,n=A.z,s=A.w,e=s*g+i*C-n*I,h=s*I+n*g-t*C,A=s*C+t*I-i*g,C=-t*g-i*I-n*C;return this.x=e*s+C*-t+h*-n-A*-i,this.y=h*s+C*-i+A*-t-e*-n,this.z=A*s+C*-n+e*-i-h*-t,this},project:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)},unproject:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)},transformDirection:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[4]*I+A[8]*C,this.y=A[1]*g+A[5]*I+A[9]*C,this.z=A[2]*g+A[6]*I+A[10]*C,this.normalize()},divide:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this},divideScalar:function(A){return this.multiplyScalar(1/A)},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this},clamp:function(A,g){return this.x=Math.max(A.x,Math.min(g.x,this.x)),this.y=Math.max(A.y,Math.min(g.y,this.y)),this.z=Math.max(A.z,Math.min(g.z,this.z)),this},clampScalar:function(A,g){return this.x=Math.max(A,Math.min(g,this.x)),this.y=Math.max(A,Math.min(g,this.y)),this.z=Math.max(A,Math.min(g,this.z)),this},clampLength:function(A,g){var I=this.length();return this.divideScalar(I||1).multiplyScalar(Math.max(A,Math.min(g,I)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(A){return this.x*A.x+this.y*A.y+this.z*A.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,g){return this.x+=(A.x-this.x)*g,this.y+=(A.y-this.y)*g,this.z+=(A.z-this.z)*g,this},lerpVectors:function(A,g,I){return this.subVectors(g,A).multiplyScalar(I).add(A)},cross:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,g)):this.crossVectors(this,A)},crossVectors:function(A,g){var I=A.x,C=A.y,t=A.z,i=g.x,A=g.y,g=g.z;return this.x=C*g-t*A,this.y=t*i-I*g,this.z=I*A-C*i,this},projectOnVector:function(A){var g=A.lengthSq();if(0===g)return this.set(0,0,0);g=A.dot(this)/g;return this.copy(A).multiplyScalar(g)},projectOnPlane:function(A){return dA.copy(this).projectOnVector(A),this.sub(dA)},reflect:function(A){return this.sub(dA.copy(A).multiplyScalar(2*this.dot(A)))},angleTo:function(A){var g=Math.sqrt(this.lengthSq()*A.lengthSq());if(0===g)return Math.PI/2;g=this.dot(A)/g;return Math.acos(M.clamp(g,-1,1))},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var g=this.x-A.x,I=this.y-A.y,A=this.z-A.z;return g*g+I*I+A*A},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)},setFromSpherical:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)},setFromSphericalCoords:function(A,g,I){var C=Math.sin(g)*A;return this.x=C*Math.sin(I),this.y=Math.cos(g)*A,this.z=C*Math.cos(I),this},setFromCylindrical:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)},setFromCylindricalCoords:function(A,g,I){return this.x=A*Math.sin(g),this.y=I,this.z=A*Math.cos(g),this},setFromMatrixPosition:function(A){A=A.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this},setFromMatrixScale:function(A){var g=this.setFromMatrixColumn(A,0).length(),I=this.setFromMatrixColumn(A,1).length(),A=this.setFromMatrixColumn(A,2).length();return this.x=g,this.y=I,this.z=A,this},setFromMatrixColumn:function(A,g){return this.fromArray(A.elements,4*g)},setFromMatrix3Column:function(A,g){return this.fromArray(A.elements,3*g)},equals:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z},fromArray:function(A,g){return this.x=A[g=void 0===g?0:g],this.y=A[g+1],this.z=A[g+2],this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.x,A[g+1]=this.y,A[g+2]=this.z,A},fromBufferAttribute:function(A,g,I){return void 0!==I&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(g),this.y=A.getY(g),this.z=A.getZ(g),this}});var pA=new MA,yA=new xA,bA=new MA(0,0,0),wA=new MA(1,1,1),kA=new MA,EA=new MA,TA=new MA;function xA(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function RA(){}Object.assign(xA.prototype,{isMatrix4:!0,set:function(A,g,I,C,t,i,n,s,e,h,r,o,a,u,c,l){var f=this.elements;return f[0]=A,f[4]=g,f[8]=I,f[12]=C,f[1]=t,f[5]=i,f[9]=n,f[13]=s,f[2]=e,f[6]=h,f[10]=r,f[14]=o,f[3]=a,f[7]=u,f[11]=c,f[15]=l,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new xA).fromArray(this.elements)},copy:function(A){var g=this.elements,A=A.elements;return g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[8]=A[8],g[9]=A[9],g[10]=A[10],g[11]=A[11],g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15],this},copyPosition:function(A){var g=this.elements,A=A.elements;return g[12]=A[12],g[13]=A[13],g[14]=A[14],this},extractBasis:function(A,g,I){return A.setFromMatrixColumn(this,0),g.setFromMatrixColumn(this,1),I.setFromMatrixColumn(this,2),this},makeBasis:function(A,g,I){return this.set(A.x,g.x,I.x,0,A.y,g.y,I.y,0,A.z,g.z,I.z,0,0,0,0,1),this},extractRotation:function(A){var g=this.elements,I=A.elements,C=1/pA.setFromMatrixColumn(A,0).length(),t=1/pA.setFromMatrixColumn(A,1).length(),A=1/pA.setFromMatrixColumn(A,2).length();return g[0]=I[0]*C,g[1]=I[1]*C,g[2]=I[2]*C,g[3]=0,g[4]=I[4]*t,g[5]=I[5]*t,g[6]=I[6]*t,g[7]=0,g[8]=I[8]*A,g[9]=I[9]*A,g[10]=I[10]*A,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,this},makeRotationFromEuler:function(A){A&&A.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var g,I,C,t,i,n,s,e,h,r,o,a,u=this.elements,c=A.x,l=A.y,f=A.z,v=Math.cos(c),d=Math.sin(c),m=Math.cos(l),c=Math.sin(l),l=Math.cos(f),f=Math.sin(f);return"XYZ"===A.order?(i=v*l,n=v*f,s=d*l,e=d*f,u[0]=m*l,u[4]=-m*f,u[8]=c,u[1]=n+s*c,u[5]=i-e*c,u[9]=-d*m,u[2]=e-i*c,u[6]=s+n*c,u[10]=v*m):"YXZ"===A.order?(I=m*f,C=c*l,u[0]=(g=m*l)+(t=c*f)*d,u[4]=C*d-I,u[8]=v*c,u[1]=v*f,u[5]=v*l,u[9]=-d,u[2]=I*d-C,u[6]=t+g*d,u[10]=v*m):"ZXY"===A.order?(I=m*f,C=c*l,u[0]=(g=m*l)-(t=c*f)*d,u[4]=-v*f,u[8]=C+I*d,u[1]=I+C*d,u[5]=v*l,u[9]=t-g*d,u[2]=-v*c,u[6]=d,u[10]=v*m):"ZYX"===A.order?(i=v*l,n=v*f,s=d*l,e=d*f,u[0]=m*l,u[4]=s*c-n,u[8]=i*c+e,u[1]=m*f,u[5]=e*c+i,u[9]=n*c-s,u[2]=-c,u[6]=d*m,u[10]=v*m):"YZX"===A.order?(h=v*m,r=v*c,o=d*m,a=d*c,u[0]=m*l,u[4]=a-h*f,u[8]=o*f+r,u[1]=f,u[5]=v*l,u[9]=-d*l,u[2]=-c*l,u[6]=r*f+o,u[10]=h-a*f):"XZY"===A.order&&(h=v*m,r=v*c,o=d*m,a=d*c,u[0]=m*l,u[4]=-f,u[8]=c*l,u[1]=h*f+a,u[5]=v*l,u[9]=r*f-o,u[2]=o*f-r,u[6]=d*l,u[10]=a*f+h),u[3]=0,u[7]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this},makeRotationFromQuaternion:function(A){return this.compose(bA,A,wA)},lookAt:function(A,g,I){var C=this.elements;return TA.subVectors(A,g),0===TA.lengthSq()&&(TA.z=1),TA.normalize(),kA.crossVectors(I,TA),0===kA.lengthSq()&&(1===Math.abs(I.z)?TA.x+=1e-4:TA.z+=1e-4,TA.normalize(),kA.crossVectors(I,TA)),kA.normalize(),EA.crossVectors(TA,kA),C[0]=kA.x,C[4]=EA.x,C[8]=TA.x,C[1]=kA.y,C[5]=EA.y,C[9]=TA.y,C[2]=kA.z,C[6]=EA.z,C[10]=TA.z,this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(A,g)):this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,g){var I=A.elements,C=g.elements,t=this.elements,i=I[0],n=I[4],s=I[8],e=I[12],h=I[1],r=I[5],o=I[9],a=I[13],u=I[2],c=I[6],l=I[10],f=I[14],v=I[3],d=I[7],m=I[11],M=I[15],p=C[0],y=C[4],b=C[8],w=C[12],k=C[1],E=C[5],T=C[9],x=C[13],R=C[2],O=C[6],Z=C[10],L=C[14],A=C[3],g=C[7],I=C[11],C=C[15];return t[0]=i*p+n*k+s*R+e*A,t[4]=i*y+n*E+s*O+e*g,t[8]=i*b+n*T+s*Z+e*I,t[12]=i*w+n*x+s*L+e*C,t[1]=h*p+r*k+o*R+a*A,t[5]=h*y+r*E+o*O+a*g,t[9]=h*b+r*T+o*Z+a*I,t[13]=h*w+r*x+o*L+a*C,t[2]=u*p+c*k+l*R+f*A,t[6]=u*y+c*E+l*O+f*g,t[10]=u*b+c*T+l*Z+f*I,t[14]=u*w+c*x+l*L+f*C,t[3]=v*p+d*k+m*R+M*A,t[7]=v*y+d*E+m*O+M*g,t[11]=v*b+d*T+m*Z+M*I,t[15]=v*w+d*x+m*L+M*C,this},multiplyScalar:function(A){var g=this.elements;return g[0]*=A,g[4]*=A,g[8]*=A,g[12]*=A,g[1]*=A,g[5]*=A,g[9]*=A,g[13]*=A,g[2]*=A,g[6]*=A,g[10]*=A,g[14]*=A,g[3]*=A,g[7]*=A,g[11]*=A,g[15]*=A,this},determinant:function(){var A=this.elements,g=A[0],I=A[4],C=A[8],t=A[12],i=A[1],n=A[5],s=A[9],e=A[13],h=A[2],r=A[6],o=A[10],a=A[14];return A[3]*(+t*s*r-C*e*r-t*n*o+I*e*o+C*n*a-I*s*a)+A[7]*(+g*s*a-g*e*o+t*i*o-C*i*a+C*e*h-t*s*h)+A[11]*(+g*e*r-g*n*a-t*i*r+I*i*a+t*n*h-I*e*h)+A[15]*(-C*n*h-g*s*r+g*n*o+C*i*r-I*i*o+I*s*h)},transpose:function(){var A=this.elements,g=A[1];return A[1]=A[4],A[4]=g,g=A[2],A[2]=A[8],A[8]=g,g=A[6],A[6]=A[9],A[9]=g,g=A[3],A[3]=A[12],A[12]=g,g=A[7],A[7]=A[13],A[13]=g,g=A[11],A[11]=A[14],A[14]=g,this},setPosition:function(A,g,I){var C=this.elements;return A.isVector3?(C[12]=A.x,C[13]=A.y,C[14]=A.z):(C[12]=A,C[13]=g,C[14]=I),this},getInverse:function(A,g){void 0!==g&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var I=this.elements,C=A.elements,t=C[0],i=C[1],n=C[2],s=C[3],e=C[4],h=C[5],r=C[6],o=C[7],a=C[8],u=C[9],c=C[10],l=C[11],f=C[12],v=C[13],d=C[14],m=C[15],M=u*d*o-v*c*o+v*r*l-h*d*l-u*r*m+h*c*m,p=f*c*o-a*d*o-f*r*l+e*d*l+a*r*m-e*c*m,g=a*v*o-f*u*o+f*h*l-e*v*l-a*h*m+e*u*m,A=f*u*r-a*v*r-f*h*c+e*v*c+a*h*d-e*u*d,C=t*M+i*p+n*g+s*A;if(0==C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);C=1/C;return I[0]=M*C,I[1]=(v*c*s-u*d*s-v*n*l+i*d*l+u*n*m-i*c*m)*C,I[2]=(h*d*s-v*r*s+v*n*o-i*d*o-h*n*m+i*r*m)*C,I[3]=(u*r*s-h*c*s-u*n*o+i*c*o+h*n*l-i*r*l)*C,I[4]=p*C,I[5]=(a*d*s-f*c*s+f*n*l-t*d*l-a*n*m+t*c*m)*C,I[6]=(f*r*s-e*d*s-f*n*o+t*d*o+e*n*m-t*r*m)*C,I[7]=(e*c*s-a*r*s+a*n*o-t*c*o-e*n*l+t*r*l)*C,I[8]=g*C,I[9]=(f*u*s-a*v*s-f*i*l+t*v*l+a*i*m-t*u*m)*C,I[10]=(e*v*s-f*h*s+f*i*o-t*v*o-e*i*m+t*h*m)*C,I[11]=(a*h*s-e*u*s-a*i*o+t*u*o+e*i*l-t*h*l)*C,I[12]=A*C,I[13]=(a*v*n-f*u*n+f*i*c-t*v*c-a*i*d+t*u*d)*C,I[14]=(f*h*n-e*v*n-f*i*r+t*v*r+e*i*d-t*h*d)*C,I[15]=(e*u*n-a*h*n+a*i*r-t*u*r-e*i*c+t*h*c)*C,this},scale:function(A){var g=this.elements,I=A.x,C=A.y,A=A.z;return g[0]*=I,g[4]*=C,g[8]*=A,g[1]*=I,g[5]*=C,g[9]*=A,g[2]*=I,g[6]*=C,g[10]*=A,g[3]*=I,g[7]*=C,g[11]*=A,this},getMaxScaleOnAxis:function(){var A=this.elements,g=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],I=A[4]*A[4]+A[5]*A[5]+A[6]*A[6],A=A[8]*A[8]+A[9]*A[9]+A[10]*A[10];return Math.sqrt(Math.max(g,I,A))},makeTranslation:function(A,g,I){return this.set(1,0,0,A,0,1,0,g,0,0,1,I,0,0,0,1),this},makeRotationX:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(1,0,0,0,0,g,-A,0,0,A,g,0,0,0,0,1),this},makeRotationY:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(g,0,A,0,0,1,0,0,-A,0,g,0,0,0,0,1),this},makeRotationZ:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(g,-A,0,0,A,g,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(A,g){var I=Math.cos(g),C=Math.sin(g),t=1-I,i=A.x,n=A.y,s=A.z,g=t*i,A=t*n;return this.set(g*i+I,g*n-C*s,g*s+C*n,0,g*n+C*s,A*n+I,A*s-C*i,0,g*s-C*n,A*s+C*i,t*s*s+I,0,0,0,0,1),this},makeScale:function(A,g,I){return this.set(A,0,0,0,0,g,0,0,0,0,I,0,0,0,0,1),this},makeShear:function(A,g,I){return this.set(1,g,I,0,A,1,I,0,A,g,1,0,0,0,0,1),this},compose:function(A,g,I){var C=this.elements,t=g.J,i=g.q,n=g.$,s=g.AA,e=t+t,h=i+i,r=n+n,o=t*e,a=t*h,u=t*r,g=i*h,t=i*r,i=n*r,n=s*e,e=s*h,h=s*r,s=I.x,r=I.y,I=I.z;return C[0]=(1-(g+i))*s,C[1]=(a+h)*s,C[2]=(u-e)*s,C[3]=0,C[4]=(a-h)*r,C[5]=(1-(o+i))*r,C[6]=(t+n)*r,C[7]=0,C[8]=(u+e)*I,C[9]=(t-n)*I,C[10]=(1-(o+g))*I,C[11]=0,C[12]=A.x,C[13]=A.y,C[14]=A.z,C[15]=1,this},decompose:function(A,g,I){var C=this.elements,t=pA.set(C[0],C[1],C[2]).length(),i=pA.set(C[4],C[5],C[6]).length(),n=pA.set(C[8],C[9],C[10]).length();this.determinant()<0&&(t=-t),A.x=C[12],A.y=C[13],A.z=C[14],yA.copy(this);var s=1/t,A=1/i,C=1/n;return yA.elements[0]*=s,yA.elements[1]*=s,yA.elements[2]*=s,yA.elements[4]*=A,yA.elements[5]*=A,yA.elements[6]*=A,yA.elements[8]*=C,yA.elements[9]*=C,yA.elements[10]*=C,g.setFromRotationMatrix(yA),I.x=t,I.y=i,I.z=n,this},makePerspective:function(A,g,I,C,t,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var n=this.elements,s=2*t/(I-C),e=(g+A)/(g-A),I=(I+C)/(I-C),C=-(i+t)/(i-t),i=-2*i*t/(i-t);return n[0]=2*t/(g-A),n[4]=0,n[8]=e,n[12]=0,n[1]=0,n[5]=s,n[9]=I,n[13]=0,n[2]=0,n[6]=0,n[10]=C,n[14]=i,n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this},makeOrthographic:function(A,g,I,C,t,i){var n=this.elements,s=1/(g-A),e=1/(I-C),h=1/(i-t),A=(g+A)*s,C=(I+C)*e,t=(i+t)*h;return n[0]=2*s,n[4]=0,n[8]=0,n[12]=-A,n[1]=0,n[5]=2*e,n[9]=0,n[13]=-C,n[2]=0,n[6]=0,n[10]=-2*h,n[14]=-t,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},equals:function(A){for(var g=this.elements,I=A.elements,C=0;C<16;C++)if(g[C]!==I[C])return!1;return!0},fromArray:function(A,g){void 0===g&&(g=0);for(var I=0;I<16;I++)this.elements[I]=A[I+g];return this},toArray:function(A,g){var I=this.elements;return(A=void 0===A?[]:A)[g=void 0===g?0:g]=I[0],A[g+1]=I[1],A[g+2]=I[2],A[g+3]=I[3],A[g+4]=I[4],A[g+5]=I[5],A[g+6]=I[6],A[g+7]=I[7],A[g+8]=I[8],A[g+9]=I[9],A[g+10]=I[10],A[g+11]=I[11],A[g+12]=I[12],A[g+13]=I[13],A[g+14]=I[14],A[g+15]=I[15],A}}),Object.assign(RA.prototype,{addEventListener:function(A,g){void 0===this.B&&(this.B={});var I=this.B;void 0===I[A]&&(I[A]=[]),-1===I[A].indexOf(g)&&I[A].push(g)},hasEventListener:function(A,g){if(void 0===this.B)return!1;var I=this.B;return void 0!==I[A]&&-1!==I[A].indexOf(g)},removeEventListener:function(A,g){void 0!==this.B&&(void 0===(A=this.B[A])||-1!==(g=A.indexOf(g))&&A.splice(g,1))},dispatchEvent:function(A){if(void 0!==this.B){var g=this.B[A.type];if(void 0!==g){A.target=this;for(var I=g.slice(0),C=0,t=I.length;C<t;C++)I[C].call(this,A)}}}});var OA=new xA,ZA=new vA;function LA(A,g,I,C){this.J=A||0,this.q=g||0,this.$=I||0,this.IA=C||LA.DefaultOrder}function jA(){this.mask=1}function DA(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}LA.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],LA.DefaultOrder="XYZ",Object.defineProperties(LA.prototype,{x:{get:function(){return this.J},set:function(A){this.J=A,this.gA()}},y:{get:function(){return this.q},set:function(A){this.q=A,this.gA()}},z:{get:function(){return this.$},set:function(A){this.$=A,this.gA()}},order:{get:function(){return this.IA},set:function(A){this.IA=A,this.gA()}}}),Object.assign(LA.prototype,{isEuler:!0,set:function(A,g,I,C){return this.J=A,this.q=g,this.$=I,this.IA=C||this.IA,this.gA(),this},clone:function(){return new this.constructor(this.J,this.q,this.$,this.IA)},copy:function(A){return this.J=A.J,this.q=A.q,this.$=A.$,this.IA=A.IA,this.gA(),this},setFromRotationMatrix:function(A,g,I){var C=M.clamp,t=A.elements,i=t[0],n=t[4],s=t[8],e=t[1],h=t[5],r=t[9],o=t[2],A=t[6],t=t[10];return"XYZ"===(g=g||this.IA)?(this.q=Math.asin(C(s,-1,1)),Math.abs(s)<.9999999?(this.J=Math.atan2(-r,t),this.$=Math.atan2(-n,i)):(this.J=Math.atan2(A,h),this.$=0)):"YXZ"===g?(this.J=Math.asin(-C(r,-1,1)),Math.abs(r)<.9999999?(this.q=Math.atan2(s,t),this.$=Math.atan2(e,h)):(this.q=Math.atan2(-o,i),this.$=0)):"ZXY"===g?(this.J=Math.asin(C(A,-1,1)),Math.abs(A)<.9999999?(this.q=Math.atan2(-o,t),this.$=Math.atan2(-n,h)):(this.q=0,this.$=Math.atan2(e,i))):"ZYX"===g?(this.q=Math.asin(-C(o,-1,1)),Math.abs(o)<.9999999?(this.J=Math.atan2(A,t),this.$=Math.atan2(e,i)):(this.J=0,this.$=Math.atan2(-n,h))):"YZX"===g?(this.$=Math.asin(C(e,-1,1)),Math.abs(e)<.9999999?(this.J=Math.atan2(-r,h),this.q=Math.atan2(-o,i)):(this.J=0,this.q=Math.atan2(s,t))):"XZY"===g?(this.$=Math.asin(-C(n,-1,1)),Math.abs(n)<.9999999?(this.J=Math.atan2(A,h),this.q=Math.atan2(s,i)):(this.J=Math.atan2(-r,t),this.q=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+g),this.IA=g,!1!==I&&this.gA(),this},setFromQuaternion:function(A,g,I){return OA.makeRotationFromQuaternion(A),this.setFromRotationMatrix(OA,g,I)},setFromVector3:function(A,g){return this.set(A.x,A.y,A.z,g||this.IA)},reorder:function(A){return ZA.setFromEuler(this),this.setFromQuaternion(ZA,A)},equals:function(A){return A.J===this.J&&A.q===this.q&&A.$===this.$&&A.IA===this.IA},fromArray:function(A){return this.J=A[0],this.q=A[1],this.$=A[2],void 0!==A[3]&&(this.IA=A[3]),this.gA(),this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.J,A[g+1]=this.q,A[g+2]=this.$,A[g+3]=this.IA,A},toVector3:function(A){return A?A.set(this.J,this.q,this.$):new MA(this.J,this.q,this.$)},zI:function(A){return this.gA=A,this},gA:function(){}}),Object.assign(jA.prototype,{set:function(A){this.mask=1<<A|0},enable:function(A){this.mask|=1<<A|0},enableAll:function(){this.mask=-1},toggle:function(A){this.mask^=1<<A|0},disable:function(A){this.mask&=~(1<<A|0)},disableAll:function(){this.mask=0},test:function(A){return 0!=(this.mask&A.mask)}}),Object.assign(DA.prototype,{isMatrix3:!0,set:function(A,g,I,C,t,i,n,s,e){var h=this.elements;return h[0]=A,h[1]=C,h[2]=n,h[3]=g,h[4]=t,h[5]=s,h[6]=I,h[7]=i,h[8]=e,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(A){var g=this.elements,A=A.elements;return g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[8]=A[8],this},extractBasis:function(A,g,I){return A.setFromMatrix3Column(this,0),g.setFromMatrix3Column(this,1),I.setFromMatrix3Column(this,2),this},setFromMatrix4:function(A){A=A.elements;return this.set(A[0],A[4],A[8],A[1],A[5],A[9],A[2],A[6],A[10]),this},multiply:function(A){return this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,g){var I=A.elements,C=g.elements,t=this.elements,i=I[0],n=I[3],s=I[6],e=I[1],h=I[4],r=I[7],o=I[2],a=I[5],u=I[8],c=C[0],l=C[3],f=C[6],v=C[1],d=C[4],A=C[7],g=C[2],I=C[5],C=C[8];return t[0]=i*c+n*v+s*g,t[3]=i*l+n*d+s*I,t[6]=i*f+n*A+s*C,t[1]=e*c+h*v+r*g,t[4]=e*l+h*d+r*I,t[7]=e*f+h*A+r*C,t[2]=o*c+a*v+u*g,t[5]=o*l+a*d+u*I,t[8]=o*f+a*A+u*C,this},multiplyScalar:function(A){var g=this.elements;return g[0]*=A,g[3]*=A,g[6]*=A,g[1]*=A,g[4]*=A,g[7]*=A,g[2]*=A,g[5]*=A,g[8]*=A,this},determinant:function(){var A=this.elements,g=A[0],I=A[1],C=A[2],t=A[3],i=A[4],n=A[5],s=A[6],e=A[7],A=A[8];return g*i*A-g*n*e-I*t*A+I*n*s+C*t*e-C*i*s},getInverse:function(A,g){void 0!==g&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var I=A.elements,C=this.elements,t=I[0],i=I[1],n=I[2],s=I[3],e=I[4],h=I[5],r=I[6],o=I[7],a=I[8],u=a*e-h*o,g=h*r-a*s,A=o*s-e*r,I=t*u+i*g+n*A;if(0==I)return this.set(0,0,0,0,0,0,0,0,0);I=1/I;return C[0]=u*I,C[1]=(n*o-a*i)*I,C[2]=(h*i-n*e)*I,C[3]=g*I,C[4]=(a*t-n*r)*I,C[5]=(n*s-h*t)*I,C[6]=A*I,C[7]=(i*r-o*t)*I,C[8]=(e*t-i*s)*I,this},transpose:function(){var A=this.elements,g=A[1];return A[1]=A[3],A[3]=g,g=A[2],A[2]=A[6],A[6]=g,g=A[5],A[5]=A[7],A[7]=g,this},getNormalMatrix:function(A){return this.setFromMatrix4(A).getInverse(this).transpose()},transposeIntoArray:function(A){var g=this.elements;return A[0]=g[0],A[1]=g[3],A[2]=g[6],A[3]=g[1],A[4]=g[4],A[5]=g[7],A[6]=g[2],A[7]=g[5],A[8]=g[8],this},setUvTransform:function(A,g,I,C,t,i,n){var s=Math.cos(t),t=Math.sin(t);this.set(I*s,I*t,-I*(s*i+t*n)+i+A,-C*t,C*s,-C*(-t*i+s*n)+n+g,0,0,1)},scale:function(A,g){var I=this.elements;return I[0]*=A,I[3]*=A,I[6]*=A,I[1]*=g,I[4]*=g,I[7]*=g,this},rotate:function(A){var g=Math.cos(A),I=Math.sin(A),C=this.elements,t=C[0],i=C[3],n=C[6],s=C[1],e=C[4],A=C[7];return C[0]=g*t+I*s,C[3]=g*i+I*e,C[6]=g*n+I*A,C[1]=-I*t+g*s,C[4]=-I*i+g*e,C[7]=-I*n+g*A,this},translate:function(A,g){var I=this.elements;return I[0]+=A*I[2],I[3]+=A*I[5],I[6]+=A*I[8],I[1]+=g*I[2],I[4]+=g*I[5],I[7]+=g*I[8],this},equals:function(A){for(var g=this.elements,I=A.elements,C=0;C<9;C++)if(g[C]!==I[C])return!1;return!0},fromArray:function(A,g){void 0===g&&(g=0);for(var I=0;I<9;I++)this.elements[I]=A[I+g];return this},toArray:function(A,g){var I=this.elements;return(A=void 0===A?[]:A)[g=void 0===g?0:g]=I[0],A[g+1]=I[1],A[g+2]=I[2],A[g+3]=I[3],A[g+4]=I[4],A[g+5]=I[5],A[g+6]=I[6],A[g+7]=I[7],A[g+8]=I[8],A}});var SA=0,NA=new MA,PA=new vA,YA=new xA,FA=new MA,GA=new MA,zA=new MA,WA=new vA,UA=new MA(1,0,0),VA=new MA(0,1,0),XA=new MA(0,0,1),KA={type:"added"},BA={type:"removed"};function _A(){Object.defineProperty(this,"id",{value:SA++}),this.uuid=M.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_A.DefaultUp.clone();var A=new MA,g=new LA,I=new vA,C=new MA(1,1,1);g.zI(function(){I.setFromEuler(g,!1)}),I.zI(function(){g.setFromQuaternion(I,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:A},rotation:{configurable:!0,enumerable:!0,value:g},quaternion:{configurable:!0,enumerable:!0,value:I},scale:{configurable:!0,enumerable:!0,value:C},modelViewMatrix:{value:new xA},normalMatrix:{value:new DA}}),this.matrix=new xA,this.matrixWorld=new xA,this.matrixAutoUpdate=_A.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new jA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function QA(){_A.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_A.DefaultUp=new MA(0,1,0),_A.DefaultMatrixAutoUpdate=!0,_A.prototype=Object.assign(Object.create(RA.prototype),{constructor:_A,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(A){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(A),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(A){return this.quaternion.premultiply(A),this},setRotationFromAxisAngle:function(A,g){this.quaternion.setFromAxisAngle(A,g)},setRotationFromEuler:function(A){this.quaternion.setFromEuler(A,!0)},setRotationFromMatrix:function(A){this.quaternion.setFromRotationMatrix(A)},setRotationFromQuaternion:function(A){this.quaternion.copy(A)},rotateOnAxis:function(A,g){return PA.setFromAxisAngle(A,g),this.quaternion.multiply(PA),this},rotateOnWorldAxis:function(A,g){return PA.setFromAxisAngle(A,g),this.quaternion.premultiply(PA),this},rotateX:function(A){return this.rotateOnAxis(UA,A)},rotateY:function(A){return this.rotateOnAxis(VA,A)},rotateZ:function(A){return this.rotateOnAxis(XA,A)},translateOnAxis:function(A,g){return NA.copy(A).applyQuaternion(this.quaternion),this.position.add(NA.multiplyScalar(g)),this},translateX:function(A){return this.translateOnAxis(UA,A)},translateY:function(A){return this.translateOnAxis(VA,A)},translateZ:function(A){return this.translateOnAxis(XA,A)},localToWorld:function(A){return A.applyMatrix4(this.matrixWorld)},worldToLocal:function(A){return A.applyMatrix4(YA.getInverse(this.matrixWorld))},lookAt:function(A,g,I){A.isVector3?FA.copy(A):FA.set(A,g,I);I=this.parent;this.updateWorldMatrix(!0,!1),GA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?YA.lookAt(GA,FA,this.up):YA.lookAt(FA,GA,this.up),this.quaternion.setFromRotationMatrix(YA),I&&(YA.extractRotation(I.matrixWorld),PA.setFromRotationMatrix(YA),this.quaternion.premultiply(PA.inverse()))},add:function(A){if(1<arguments.length){for(var g=0;g<arguments.length;g++)this.add(arguments[g]);return this}return A===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",A):A&&A.isObject3D?(null!==A.parent&&A.parent.remove(A),(A.parent=this).children.push(A),A.dispatchEvent(KA)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",A),this},remove:function(A){if(1<arguments.length){for(var g=0;g<arguments.length;g++)this.remove(arguments[g]);return this}var I=this.children.indexOf(A);return-1!==I&&(A.parent=null,this.children.splice(I,1),A.dispatchEvent(BA)),this},attach:function(A){return this.updateWorldMatrix(!0,!1),YA.getInverse(this.matrixWorld),null!==A.parent&&(A.parent.updateWorldMatrix(!0,!1),YA.multiply(A.parent.matrixWorld)),A.applyMatrix4(YA),A.updateWorldMatrix(!1,!1),this.add(A),this},getObjectById:function(A){return this.getObjectByProperty("id",A)},getObjectByName:function(A){return this.getObjectByProperty("name",A)},getObjectByProperty:function(A,g){if(this[A]===g)return this;for(var I=0,C=this.children.length;I<C;I++){var t=this.children[I].getObjectByProperty(A,g);if(void 0!==t)return t}},getWorldPosition:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),A=new MA),this.updateMatrixWorld(!0),A.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),A=new vA),this.updateMatrixWorld(!0),this.matrixWorld.decompose(GA,A,zA),A},getWorldScale:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),A=new MA),this.updateMatrixWorld(!0),this.matrixWorld.decompose(GA,WA,A),A},getWorldDirection:function(A){void 0===A&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),A=new MA),this.updateMatrixWorld(!0);var g=this.matrixWorld.elements;return A.set(g[8],g[9],g[10]).normalize()},raycast:function(){},traverse:function(A){A(this);for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].traverse(A)},traverseVisible:function(A){if(!1!==this.visible){A(this);for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].traverseVisible(A)}},traverseAncestors:function(A){var g=this.parent;null!==g&&(A(g),g.traverseAncestors(A))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(A){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||A)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),A=!(this.matrixWorldNeedsUpdate=!1));for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].updateMatrixWorld(A)},updateWorldMatrix:function(A,g){var I=this.parent;if(!0===A&&null!==I&&I.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===g)for(var C=this.children,t=0,i=C.length;t<i;t++)C[t].updateWorldMatrix(!1,!0)},clone:function(A){return(new this.constructor).copy(this,A)},copy:function(A,g){if(void 0===g&&(g=!0),this.name=A.name,this.up.copy(A.up),this.position.copy(A.position),this.quaternion.copy(A.quaternion),this.scale.copy(A.scale),this.matrix.copy(A.matrix),this.matrixWorld.copy(A.matrixWorld),this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrixWorldNeedsUpdate=A.matrixWorldNeedsUpdate,this.layers.mask=A.layers.mask,this.visible=A.visible,this.castShadow=A.castShadow,this.receiveShadow=A.receiveShadow,this.frustumCulled=A.frustumCulled,this.renderOrder=A.renderOrder,this.userData=JSON.parse(JSON.stringify(A.userData)),!0===g)for(var I=0;I<A.children.length;I++){var C=A.children[I];this.add(C.clone())}return this}}),QA.prototype=Object.assign(Object.create(_A.prototype),{constructor:QA,isScene:!0,copy:function(A,g){return _A.prototype.copy.call(this,A,g),null!==A.background&&(this.background=A.background.clone()),null!==A.environment&&(this.environment=A.environment.clone()),null!==A.fog&&(this.fog=A.fog.clone()),null!==A.overrideMaterial&&(this.overrideMaterial=A.overrideMaterial.clone()),this.autoUpdate=A.autoUpdate,this.matrixAutoUpdate=A.matrixAutoUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function HA(A){_A.call(this),this.element=A||document.createElement("div"),this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",function(){this.traverse(function(A){A.element instanceof Element&&null!==A.element.parentNode&&A.element.parentNode.removeChild(A.element)})})}HA.prototype=Object.assign(Object.create(_A.prototype),{constructor:HA,copy:function(A,g){return _A.prototype.copy.call(this,A,g),this.element=A.element.cloneNode(!0),this}});function JA(A){HA.call(this,A)}(JA.prototype=Object.create(HA.prototype)).constructor=JA;function qA(){var I,C,i,n,r=this,o=new xA,a={camera:{fov:0,style:""},objects:new WeakMap},s=document.createElement("div");s.style.overflow="hidden",this.domElement=s;var u=document.createElement("div");u.style.WebkitTransformStyle="preserve-3d",u.style.transformStyle="preserve-3d",u.style.pointerEvents="none",s.appendChild(u);var c=/Trident/i.test(navigator.userAgent);function e(A){return Math.abs(A)<1e-10?0:A}function h(A){A=A.elements;return"matrix3d("+e(A[0])+","+e(-A[1])+","+e(A[2])+","+e(A[3])+","+e(A[4])+","+e(-A[5])+","+e(A[6])+","+e(A[7])+","+e(A[8])+","+e(-A[9])+","+e(A[10])+","+e(A[11])+","+e(A[12])+","+e(-A[13])+","+e(A[14])+","+e(A[15])+")"}function l(A,g){A=A.elements,A="matrix3d("+e(A[0])+","+e(A[1])+","+e(A[2])+","+e(A[3])+","+e(-A[4])+","+e(-A[5])+","+e(-A[6])+","+e(-A[7])+","+e(A[8])+","+e(A[9])+","+e(A[10])+","+e(A[11])+","+e(A[12])+","+e(A[13])+","+e(A[14])+","+e(A[15])+")";return c?"translate(-50%,-50%)translate("+i+"px,"+n+"px)"+g+A:"translate(-50%,-50%)"+A}this.getSize=function(){return{width:I,height:C}},this.setSize=function(A,g){i=(I=A)/2,n=(C=g)/2,s.style.width=A+"px",s.style.height=g+"px",u.style.width=A+"px",u.style.height=g+"px"};var t,f,v=(t=new MA,f=new MA,function(A,g){return t.setFromMatrixPosition(A.matrixWorld),f.setFromMatrixPosition(g.matrixWorld),t.distanceToSquared(f)});function d(A){for(var g,I=(g=[],A.traverse(function(A){A instanceof HA&&g.push(A)}),g.sort(function(A,g){return a.objects.get(A).distanceToCameraSquared-a.objects.get(g).distanceToCameraSquared})),C=I.length,t=0,i=I.length;t<i;t++)I[t].element.style.zIndex=C-t}this.render=function(A,g){var I,C=g.projectionMatrix.elements[5]*n;a.camera.fov!==C&&(g.isPerspectiveCamera?(s.style.WebkitPerspective=C+"px",s.style.perspective=C+"px"):(s.style.WebkitPerspective="",s.style.perspective=""),a.camera.fov=C),!0===A.autoUpdate&&A.updateMatrixWorld(),null===g.parent&&g.updateMatrixWorld(),g.isOrthographicCamera&&(I=-(g.right+g.left)/2,t=(g.top+g.bottom)/2);var t=g.isOrthographicCamera?"scale("+C+")translate("+e(I)+"px,"+e(t)+"px)"+h(g.matrixWorldInverse):"translateZ("+C+"px)"+h(g.matrixWorldInverse),C=t+"translate("+i+"px,"+n+"px)";a.camera.style===C||c||(u.style.WebkitTransform=C,u.style.transform=C,a.camera.style=C),function A(g,I,C,t){var i,n,s;g instanceof HA&&(g.onBeforeRender(r,I,C),s=g instanceof JA?(o.copy(C.matrixWorldInverse),o.transpose(),o.copyPosition(g.matrixWorld),o.scale(g.scale),o.elements[3]=0,o.elements[7]=0,o.elements[11]=0,o.elements[15]=1,l(o,t)):l(g.matrixWorld,t),i=g.element,void 0!==(n=a.objects.get(g))&&n.style===s||(i.style.WebkitTransform=s,s={style:i.style.transform=s},c&&(s.distanceToCameraSquared=v(C,g)),a.objects.set(g,s)),i.style.display=g.visible?"":"none",i.parentNode!==u&&u.appendChild(i),g.onAfterRender(r,I,C));for(var e=0,h=g.children.length;e<h;e++)A(g.children[e],I,C,t)}(A,A,g,t),c&&d(A)}}var $A=new MA,Ag=new MA,gg=new DA;function Ig(A,g){this.normal=void 0!==A?A:new MA(1,0,0),this.constant=void 0!==g?g:0}Object.assign(Ig.prototype,{isPlane:!0,set:function(A,g){return this.normal.copy(A),this.constant=g,this},setComponents:function(A,g,I,C){return this.normal.set(A,g,I),this.constant=C,this},setFromNormalAndCoplanarPoint:function(A,g){return this.normal.copy(A),this.constant=-g.dot(this.normal),this},setFromCoplanarPoints:function(A,g,I){g=$A.subVectors(I,g).cross(Ag.subVectors(A,g)).normalize();return this.setFromNormalAndCoplanarPoint(g,A),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.normal.copy(A.normal),this.constant=A.constant,this},normalize:function(){var A=1/this.normal.length();return this.normal.multiplyScalar(A),this.constant*=A,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(A){return this.normal.dot(A)+this.constant},distanceToSphere:function(A){return this.distanceToPoint(A.center)-A.radius},projectPoint:function(A,g){return void 0===g&&(console.warn("THREE.Plane: .projectPoint() target is now required"),g=new MA),g.copy(this.normal).multiplyScalar(-this.distanceToPoint(A)).add(A)},intersectLine:function(A,g){void 0===g&&(console.warn("THREE.Plane: .intersectLine() target is now required"),g=new MA);var I=A.delta($A),C=this.normal.dot(I);if(0===C)return 0===this.distanceToPoint(A.start)?g.copy(A.start):void 0;C=-(A.start.dot(this.normal)+this.constant)/C;return C<0||1<C?void 0:g.copy(I).multiplyScalar(C).add(A.start)},intersectsLine:function(A){var g=this.distanceToPoint(A.start),A=this.distanceToPoint(A.end);return g<0&&0<A||A<0&&0<g},intersectsBox:function(A){return A.intersectsPlane(this)},intersectsSphere:function(A){return A.intersectsPlane(this)},coplanarPoint:function(A){return void 0===A&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),A=new MA),A.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(A,g){g=g||gg.getNormalMatrix(A),A=this.coplanarPoint($A).applyMatrix4(A),g=this.normal.applyMatrix3(g).normalize();return this.constant=-A.dot(g),this},translate:function(A){return this.constant-=A.dot(this.normal),this},equals:function(A){return A.normal.equals(this.normal)&&A.constant===this.constant}});var Cg=new MA,tg=new MA,ig=new MA,ng=new MA,sg=new MA,eg=new MA,hg=new MA;function rg(A,g){this.origin=void 0!==A?A:new MA,this.direction=void 0!==g?g:new MA(0,0,-1)}function og(A,g,I,C){this.ray=new rg(A,g),this.near=I||0,this.far=C||1/0,this.camera=null,this.layers=new jA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ag(A,g){return A.distance-g.distance}function ug(A,g,I,C){if(A.layers.test(g.layers)&&A.raycast(g,I),!0===C)for(var t=A.children,i=0,n=t.length;i<n;i++)ug(t[i],g,I,!0)}Object.assign(rg.prototype,{set:function(A,g){return this.origin.copy(A),this.direction.copy(g),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.origin.copy(A.origin),this.direction.copy(A.direction),this},at:function(A,g){return void 0===g&&(console.warn("THREE.Ray: .at() target is now required"),g=new MA),g.copy(this.direction).multiplyScalar(A).add(this.origin)},lookAt:function(A){return this.direction.copy(A).sub(this.origin).normalize(),this},recast:function(A){return this.origin.copy(this.at(A,Cg)),this},closestPointToPoint:function(A,g){void 0===g&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),g=new MA),g.subVectors(A,this.origin);A=g.dot(this.direction);return A<0?g.copy(this.origin):g.copy(this.direction).multiplyScalar(A).add(this.origin)},distanceToPoint:function(A){return Math.sqrt(this.distanceSqToPoint(A))},distanceSqToPoint:function(A){var g=Cg.subVectors(A,this.origin).dot(this.direction);return g<0?this.origin.distanceToSquared(A):(Cg.copy(this.direction).multiplyScalar(g).add(this.origin),Cg.distanceToSquared(A))},distanceSqToSegment:function(A,g,I,C){tg.copy(A).add(g).multiplyScalar(.5),ig.copy(g).sub(A).normalize(),ng.copy(this.origin).sub(tg);var t,i,n=.5*A.distanceTo(g),s=-this.direction.dot(ig),e=ng.dot(this.direction),h=-ng.dot(ig),r=ng.lengthSq(),A=Math.abs(1-s*s);return r=0<A?(i=s*e-h,g=n*A,0<=(t=s*h-e)?-g<=i?i<=g?(t*=A=1/A)*(t+s*(i*=A)+2*e)+i*(s*t+i+2*h)+r:(i=n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r):(i=-n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r):i<=-g?-(t=Math.max(0,-(-s*n+e)))*t+(i=0<t?-n:Math.min(Math.max(-n,-h),n))*(i+2*h)+r:i<=g?(t=0,(i=Math.min(Math.max(-n,-h),n))*(i+2*h)+r):-(t=Math.max(0,-(s*n+e)))*t+(i=0<t?n:Math.min(Math.max(-n,-h),n))*(i+2*h)+r):(i=0<s?-n:n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r),I&&I.copy(this.direction).multiplyScalar(t).add(this.origin),C&&C.copy(ig).multiplyScalar(i).add(tg),r},intersectSphere:function(A,g){Cg.subVectors(A.center,this.origin);var I=Cg.dot(this.direction),C=Cg.dot(Cg)-I*I,A=A.radius*A.radius;if(A<C)return null;A=Math.sqrt(A-C),C=I-A,A=I+A;return C<0&&A<0?null:C<0?this.at(A,g):this.at(C,g)},intersectsSphere:function(A){return this.distanceSqToPoint(A.center)<=A.radius*A.radius},distanceToPlane:function(A){var g=A.normal.dot(this.direction);if(0===g)return 0===A.distanceToPoint(this.origin)?0:null;g=-(this.origin.dot(A.normal)+A.constant)/g;return 0<=g?g:null},intersectPlane:function(A,g){A=this.distanceToPlane(A);return null===A?null:this.at(A,g)},intersectsPlane:function(A){var g=A.distanceToPoint(this.origin);return 0===g||A.normal.dot(this.direction)*g<0},intersectBox:function(A,g){var I,C,t,i=1/this.direction.x,n=1/this.direction.y,s=1/this.direction.z,e=this.origin,i=0<=i?(I=(A.min.x-e.x)*i,(A.max.x-e.x)*i):(I=(A.max.x-e.x)*i,(A.min.x-e.x)*i),n=0<=n?(C=(A.min.y-e.y)*n,(A.max.y-e.y)*n):(C=(A.max.y-e.y)*n,(A.min.y-e.y)*n);return n<I||i<C?null:((n<i||i!=i)&&(i=n),(s=0<=s?(t=(A.min.z-e.z)*s,(A.max.z-e.z)*s):(t=(A.max.z-e.z)*s,(A.min.z-e.z)*s))<(I=I<C||I!=I?C:I)||i<t?null:((I<t||I!=I)&&(I=t),(i=s<i||i!=i?s:i)<0?null:this.at(0<=I?I:i,g)))},intersectsBox:function(A){return null!==this.intersectBox(A,Cg)},intersectTriangle:function(A,g,I,C,t){sg.subVectors(g,A),eg.subVectors(I,A),hg.crossVectors(sg,eg);I=this.direction.dot(hg);if(0<I){if(C)return null;i=1}else{if(!(I<0))return null;i=-1,I=-I}ng.subVectors(this.origin,A);C=i*this.direction.dot(eg.crossVectors(ng,eg));if(C<0)return null;A=i*this.direction.dot(sg.cross(ng));if(A<0)return null;if(I<C+A)return null;var i=-i*ng.dot(hg);return i<0?null:this.at(i/I,t)},applyMatrix4:function(A){return this.origin.applyMatrix4(A),this.direction.transformDirection(A),this},equals:function(A){return A.origin.equals(this.origin)&&A.direction.equals(this.direction)}}),Object.assign(og.prototype,{set:function(A,g){this.ray.set(A,g)},setFromCamera:function(A,g){g&&g.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(g.matrixWorld),this.ray.direction.set(A.x,A.y,.5).unproject(g).sub(this.ray.origin).normalize(),this.camera=g):g&&g.isOrthographicCamera?(this.ray.origin.set(A.x,A.y,(g.near+g.far)/(g.near-g.far)).unproject(g),this.ray.direction.set(0,0,-1).transformDirection(g.matrixWorld),this.camera=g):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(A,g,I){I=I||[];return ug(A,this,I,g),I.sort(ag),I},intersectObjects:function(A,g,I){var C=I||[];if(!1===Array.isArray(A))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),C;for(var t=0,i=A.length;t<i;t++)ug(A[t],this,C,g);return C.sort(ag),C}});var cg={AMAP_SATELLITE:1,AMAP_VECTOR:2,BAIDU_VECTOR:4,BAIDU_SATELLITE:8,TD_VECTOR:16,TD_SATELLITE:32,OSM:64},C={FOV:35,CAMERA_NEAR:1,CAMERA_FAR:1e5,ZOOM_UPPER_BOUND:30,TILT_UPPER_BOUND:90,THOUSAND:1e3,DEG2RAD:.0174532,RAD2DEG:57.2957795,DRAW_TIME:500,EPS:.001};Object.freeze(C);var lg=C;function fg(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}a=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.WI=void 0!==(A=A||{}).width?A.width:1e3,this.UI=void 0!==A.length?A.length:1e3,this.VI=void 0!==A.offset?A.offset:1,this.XI=void 0===A.visible||A.visible,this.Eg=void 0!==A.mode?A.mode:cg.AMAP_VECTOR,this.KI=.5,this.BI=A.container,void 0===this.BI&&(this.BI=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.BI)),this.BI.style.width=this.WI/this.KI+"px",this.BI.style.height=this.UI/this.KI+"px",this.BI.style.opacity=1,this._I=new QA,this.QI=new og,this.HI=null,this.JI=this.VI,this.qI=null,this.$I=new Ig(new MA(0,1,0),0),this.AC=!1,this.gC=this.gC.bind(this),this.IC=null}var A,I,C;return A=g,(I=[{key:"visible",get:function(){return this.XI},set:function(A){this.XI=A,this.IC&&(this.IC.visible=this.XI,this.HI.enableUpdateRender())}},{key:"addTo",value:function(A){this.HI=A,this.JI=this.HI.getFloor(this.HI.getVisibleLevels()[0]).height-this.VI,this.a(),A.enableUpdateRender()}},{key:"remove",value:function(){this.dispose(),this.HI.off("resize",this.gC),this.HI.off("update",this.gC),this.HI.off("visibleLevelsLoaded",this.gC),this.HI=null,this.AC=!1}},{key:"dispose",value:function(){this.qI&&this.qI.dispose(),this.qI=null,this.BI.style.display="",this.IC=null,this.CC=null}}])&&fg(A.prototype,I),C&&fg(A,C),g}();Object.assign(a.prototype,{a:function(){this.AC||(this.CC=this.tC(),this.IC=this.iC(),this.qI=this.nC(),this.sC(),this.HI.on("resize",this.gC),this.HI.on("update",this.gC),this.HI.on("visibleLevelsLoaded",this.gC),this.AC=!0)},gC:function(A){"update"===A.type?0===A.renderType&&(this.sC(),this.eC()):"resize"===A.type?this.hC():"visibleLevelsLoaded"===A.type&&this.rC()},tC:function(){var A=new qA;return A.setSize(this.HI.getContainer().clientWidth,this.HI.getContainer().clientHeight),A.domElement.style.position="absolute",A.domElement.style.top=0,A.domElement.style.zIndex=-1,this.HI.getContainer().appendChild(A.domElement),A},iC:function(){var A=new HA(this.BI);return A.position.x=0,A.position.y=this.JI,A.position.z=0,A.rotation.x=-Math.PI/2,A.scale.set(this.KI,this.KI,this.KI),A.visible=this.XI,this._I.add(A),A},nC:function(){var C=this,A=ol.proj.get("EPSG:3857");if(this.Eg===cg.AMAP_SATELLITE||this.Eg===cg.AMAP_VECTOR){var g={url:this.oC(),maxZoom:19};this.Eg===cg.AMAP_SATELLITE&&(g.maxZoom=18),i=new ol.source.XYZ(g)}else if(this.Eg===cg.BAIDU_VECTOR||this.Eg===cg.BAIDU_SATELLITE){for(var I=[],t=0;t<19;t++)I[t]=Math.pow(2,18-t);var g=new ol.tilegrid.TileGrid({origin:[0,0],resolutions:I}),i=new ol.source.TileImage({projection:A,tileGrid:g,tileUrlFunction:function(A){if(!A)return"";var g=A[0],I=A[1],A=-A[2]-1;return C.aC(I=I<0?"M"+-I:I,A=A<0?"M"+-A:A,g)}})}else this.Eg===cg.OSM?i=new ol.source.OSM:(i=new ol.source.XYZ({url:this.uC()[0],tileSize:[512,512],maxZoom:18}),n=new ol.source.XYZ({url:this.uC()[1],tileSize:[512,512],maxZoom:18}));i=new ol.Map({view:new ol.View({center:[this.HI.getX(),this.HI.getY()],zoom:16,projection:A}),layers:[new ol.layer.Tile({source:i}),new ol.layer.Tile({source:n})]});i.setTarget(this.BI);var n=ol.geom.Polygon.fromExtent([this.HI.getX()-this.WI/2,(this.HI.getY()-this.JI)/2,this.HI.getX()+this.WI/2,this.HI.getY()+this.JI/2]);return i.getView().fit(n),i},oC:function(){var A;switch(this.Eg){case cg.AMAP_SATELLITE:A="http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}";break;case cg.AMAP_VECTOR:default:A="https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=2&style=7&x={x}&y={y}&z={z}"}return A},aC:function(A,g,I){var C;switch(this.Eg){case cg.BAIDU_SATELLITE:C="https://gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu/it/u=x="+A+";y="+g+";z="+I+";v=009;type=sate&fm=46&udt=20210415&scaler=2";break;case cg.BAIDU_VECTOR:default:C="https://maponline"+parseInt(4*Math.random())+".bdimg.com/tile/?qt=vtile&x="+A+"&y="+g+"&z="+I+"&styles=pl&scaler=2&udt=20210415&from=jsapi2_0&scaler=2"}return C},uC:function(){var A;switch(this.Eg){case cg.TD_SATELLITE:(A=[]).push("http://t{0-7}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=img&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),A.push("https://t{0-7}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255");break;case cg.TD_VECTOR:default:(A=[]).push("http://t{0-7}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),A.push("https://t{0-7}.tianditu.gov.cn/cva_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")}return A},hC:function(){this.CC.setSize(this.HI.getContainer().clientWidth,this.HI.getContainer().clientHeight)},eC:function(){this.CC.render(this._I,this.HI.camera)},sC:function(){var A=new MA(0,0,.5),g=this.HI.camera;this.QI.setFromCamera(A,g);var I=new MA;this.QI.ray.intersectPlane(this.$I,I);var C=1,t=this.HI.getContainer().clientWidth,A=this.HI.getContainer().clientHeight,t=Math.max(t,A)/Math.min(t,A);C="OrthographicCamera"===g.type?1/g.zoom*t*1.5:this.QI.ray.distanceToPlane(this.$I)*Math.tan(g.fov*lg.DEG2RAD/2)*2*g.aspect/this.WI*1.5;A=I.x+this.HI.getX(),t=-I.z+this.HI.getY(),g=this.WI*C;this.IC.position.x=I.x,this.IC.position.z=I.z,this.IC.scale.set(C*this.KI,C*this.KI,C*this.KI);g=ol.geom.Polygon.fromExtent([A-g/2,t-g/2,A+g/2,t+g/2]);this.qI.getView().fit(g),this.qI.getView().setCenter([A,t])},rC:function(){this.JI=this.HI.getFloor(this.HI.getVisibleLevels()[0]).height-this.VI,this.IC.position.y=this.JI}});var E=a,vg={Default:1,Legacy:2,Classic:4,Custom:8};function dg(A,g,I){return g in A?Object.defineProperty(A,g,{value:I,enumerable:!0,configurable:!0,writable:!0}):A[g]=I,A}function mg(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}C=function(){function I(A,g){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,I);this.cC=A,this.lC=g,this.fC=(dg(g={},vg.Default,{FMExtentLayer:[{name:"DirectionalLight",color:11579568,intensity:.95,position:{x:58,y:65,z:40},id:0},{name:"AmbientLight",color:11579568,intensity:.85,id:1},{name:"DirectionalLight",color:6447714,intensity:.65,position:{x:-100,y:0,z:45},id:2}],FMDynamicModelLayer:[{name:"DirectionalLight",color:11579568,intensity:.95,position:{x:58,y:65,z:45},id:0},{name:"AmbientLight",color:11579568,intensity:.85,id:1},{name:"DirectionalLight",color:6447714,position:{x:-100,y:0,z:45},intensity:.45,id:2}],FMModelLayer:[{name:"DirectionalLight",color:11645361,intensity:.95,position:{x:58,y:65,z:40},id:0},{name:"AmbientLight",color:11645361,intensity:.85,id:1},{name:"DirectionalLight",color:6513507,position:{x:-100,y:0,z:45},intensity:.65,id:2}],FMExternalModelLayer:[{name:"DirectionalLight",color:11579568,intensity:.95,position:{x:58,y:65,z:45},id:0},{name:"AmbientLight",color:11579568,intensity:.85,id:1},{name:"DirectionalLight",color:6447714,position:{x:-100,y:0,z:45},intensity:.45,id:2}]}),dg(g,vg.Legacy,{FMExtentLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:7631988,intensity:1,id:1},{name:"DirectionalLight",color:3355443,intensity:1,position:{x:-.5,y:1,z:-1},id:2}],FMExternalModelLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:16777215,intensity:.46,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}],FMModelLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:7631988,intensity:1,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}],FMDynamicModelLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:7631988,intensity:1,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}]}),dg(g,vg.Classic,{FMExtentLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:7631988,intensity:1,id:1},{name:"DirectionalLight",color:3355443,intensity:1,position:{x:-.5,y:1,z:-1},id:2}],FMExternalModelLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:16777215,intensity:.46,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}],FMModelLayer:[{name:"DirectionalLight",color:8947848,intensity:1.2,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:7631988,intensity:1,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}],FMDynamicModelLayer:[{name:"DirectionalLight",color:8947848,intensity:.9,position:{x:-1,y:1,z:1},id:0},{name:"AmbientLight",color:16777215,intensity:.33,id:1},{name:"DirectionalLight",color:3355443,position:{x:-.5,y:1,z:-1},intensity:1,id:2}]}),g)}var A,g,C;return A=I,(g=[{key:"getConfig",value:function(){return this.cC==vg.Custom?this.lC:this.fC[this.cC]}}])&&mg(A.prototype,g),C&&mg(A,C),I}();function Mg(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}a=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.vC=A=A||{},this.dC=40,void 0!==A.maxWidth&&(this.dC=A.minWidth),this.mC=100,void 0!==A.maxWidth&&(this.mC=A.maxWidth),this.JI=20,void 0!==A.height&&(this.JI=A.height),this.MC=11,void 0!==A.fontSize&&(this.MC=A.fontSize),this.pC=u.LEFT_BOTTOM,void 0!==A.position&&(this.pC=A.position),this.A=null,this.v=null,this.yC=[1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,25e3,2e4,1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1,.5,.2,.1,.05,.02,.01],this.bC=this.bC.bind(this)}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.a()}},{key:"remove",value:function(){this.A.off("zoom",this.bC),this.A.getContainer().removeChild(this.v)}}])&&Mg(A.prototype,I),C&&Mg(A,C),g}();Object.assign(a.prototype,{a:function(){this.v=document.createElement("div"),this.v.style.cssText="position:absolute;",this.v.style.width=this.dC+"px",this.v.style.height=this.JI+"px",this.v.style.pointerEvents="none",this.v.style.zIndex=20,this.wC(this.pC,this.vC.offset,this.v),this.A.getContainer().appendChild(this.v);var A=document.createElement("div");A.setAttribute("id","ruleWord"),A.style.cssText="position:absolute;white-space: nowrap;overflow: visible;text-align: center;color: #000;width: 100%;cursor: default;line-height: 18px;text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;font-size: "+this.MC+"px;font-family: Arial,sans-serif;",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;left: -1px;width: 3px;height: 7px;bottom: 0;font-size: 0;background-color:#FFFFFF",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;left: 0px;width: 1px;height: 6px;bottom: 0;font-size: 0;background-color:#000000",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;right: -1px;width: 3px;height: 7px;bottom: 0;font-size: 0;background-color:#FFFFFF",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;right: 0;width: 1px;height: 6px;bottom: 0;font-size: 0;background-color:#000000",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;width: 100%;height: 5px;font-size: 0;bottom: -1px;background-color:#FFFFFF",this.v.appendChild(A);A=document.createElement("div");A.style.cssText="position: absolute;overflow: hidden;width: 100%;height: 3px;font-size: 0;bottom: 0;background-color:#000000",this.v.appendChild(A),this.bC(),this.A.on("zoom",this.bC)},wC:function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case u.LEFT_TOP:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px";break;case u.RIGHT_TOP:I.style.right=-(g=g||{x:-10,y:10}).x+"px",I.style.top=g.y+"px";break;case u.LEFT_BOTTOM:I.style.left=(g=g||{x:10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;case u.RIGHT_BOTTOM:I.style.right=-(g=g||{x:-10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;default:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px"}},bC:function(A){var g={x:document.body.clientWidth/2,y:document.body.clientHeight/2},I={x:g.x+100,y:g.y},g=fengmap.FMUtil.coordsScreenToMap(this.A,g),I=fengmap.FMUtil.coordsScreenToMap(this.A,I),g=Math.sqrt((g.x-I.x)*(g.x-I.x)+(g.y-I.y)*(g.y-I.y))/100,I=this.yC[Math.floor(this.A.getZoom())-1];this.v.style.width=I/g+"px";g="",g=I<1e3&&1<=I?I+"":I<1?1e3*I+"":I/1e3+"";document.getElementById("ruleWord").innerHTML=g}});var pg,a=a,yg=window.fengmap||{},bg={FMCompass:i,FMControlPosition:u,FMZoomControl:o,FMToolbar:y};for(pg in bg)yg[pg]=bg[pg];var wg,kg={FMNaviMode:b,FMNaviPriority:w,FMLanguageType:k,FMNavigation:I};for(wg in kg)yg[wg]=kg[wg];yg.FMTileLayer=E,yg.FMTileProvider=cg,yg.FMLight=C,yg.FMLightMode=vg,yg.FMScaleBar=a,window.fengmap=yg;g.default=yg}],t.c=C,t.d=function(A,g,I){t.o(A,g)||Object.defineProperty(A,g,{enumerable:!0,get:I})},t.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"kC",{value:!0})},t.t=function(g,A){if(1&A&&(g=t(g)),8&A)return g;if(4&A&&"object"==typeof g&&g&&g.kC)return g;var I=Object.create(null);if(t.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:g}),2&A&&"string"!=typeof g)for(var C in g)t.d(I,C,function(A){return g[A]}.bind(null,C));return I},t.n=function(A){var g=A&&A.kC?function(){return A.default}:function(){return A};return t.d(g,"a",g),g},t.o=function(A,g){return Object.prototype.hasOwnProperty.call(A,g)},t.p="",t(t.s=0).default;function t(A){if(C[A])return C[A].exports;var g=C[A]={i:A,l:!1,exports:{}};return I[A].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var I,C});